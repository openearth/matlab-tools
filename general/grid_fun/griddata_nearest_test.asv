function success=griddata_nearest_test
%GRIDDATA_NEAREST_TEST   1st visual test for griddata_nearest
%
% Compares binning to orthogional grid of random points for:
% griddata_nearest(...) with griddata(...,'nearest')
%
%See also: GRIDDATA_NEAREST

OPT.performance = 0;

%% Define the source data (radnom points)

   X = rand(3);
   Y = rand(3);
   Z = rand(3);

%% Define the target grid 

  [xi,yi] = meshgrid(0:.001:1,0:.001:1);

   zi1 = griddata_nearest(X,Y,Z,xi,yi);
   zi2 = griddata        (X,Y,Z,xi,yi,'nearest');
   
   if isequal(zi1,zi2)
      success = 1;
   else
      success = 0;
   end
   
%% display results
   
   disp('griddata_nearest(...)')
   disp(zi1)

   disp('griddata(...,''nearest'')')
   disp(zi2)

%% plot results

   subplot(1,2,1)
   
      h.s = scatter(X(:),Y(:),100,Z(:),'filled','MarkerEdgeColor','k');
      hold on
      caxis  ([0 1])
      colorbar
      pcolorcorcen(xi,yi,zi1,[.5 .5 .5])
      title('griddata\_nearest(...)')
   
   subplot(1,2,2)
      
      h.s = scatter(X(:),Y(:),100,Z(:),'filled','MarkerEdgeColor','k');
      hold on
      caxis  ([0 1])
      colorbar
      pcolorcorcen(xi,yi,zi2,[.5 .5 .5])
      title('griddata(...,''nearest'')')
   
%% display terrible performance

   if OPT.performance
  [xi,yi] = meshgrid(0:.1:100,0:.1:100);

   tic
   zi1 = griddata_nearest(X,Y,Z,xi,yi);
   r1 = toc

   tic
   zi2 = griddata        (X,Y,Z,xi,yi,'nearest');
   r2 = toc
   end

%% EOF