<html>
<body>
   <div id='id2' url="http://dtvirt5.deltares.nl/kml/rijkswaterstaat/sedimentatlas_waddenzee/sediment_atlas_waddenzee_EVAII_mud_content.kml" lat=5.69 lon=53.44 tilt=70 rotation=210 altitude=15418 class="geapiusermacro" style="height: 350; width: 350;">
   </div>
   <script src="http://www.google.com/jsapi?key=ABCDEFG"> </script>
   <script type="text/javascript">
      google.load("earth", "1");
      var ge2;
      var url2;
   	  var lat2;
      var lon2;
	  var altitude2;
	  var rotation2;
	  var tilt2;

      function initgoogle() {
      	obj = document.getElementById('id2');
      	url2 = obj.getAttribute('url');
		id2 = obj.getAttribute('id');
		lat2 = parseFloat(obj.getAttribute('lat'));
		lon2 = parseFloat(obj.getAttribute('lon'));
		altitude2 = parseFloat(obj.getAttribute('altitude'));
		tilt2 = parseFloat(obj.getAttribute('tilt'));
		rotation2 = parseFloat(obj.getAttribute('rotation'));

        google.earth.createInstance('id2', function initCB(instance) {
        ge2 = instance;
        ge2.getWindow().setVisibility(true);
        ge2.getNavigationControl().setVisibility(ge2.VISIBILITY_SHOW);

        google.earth.fetchKml(ge2, url2, function(object){
	      if (!object)
	        {
	          // wrap alerts in API callbacks and event handlers
	          // in a setTimeout to prevent deadlock in some browsers
	  	      setTimeout(function() {alert('Bad or null KML.');}, 0);
	  	      return;
	        }
	      ge2.getFeatures().appendChild(object);
		  var lookat = ge2.createLookAt('');
		  lookat.set(lon2, lat2, 0, ge2.ALTITUDE_RELATIVE_TO_GROUND, rotation2, tilt2, altitude2);
		  ge2.getView().setAbstractView(lookat);
          });
         },
         failureCB);
       }

       function failureCB(errorCode)
       {
       }

       google.setOnLoadCallback(initgoogle);
   </script>

      <div id='id1' url="http://dtvirt5.deltares.nl/kml/Examples/Ameland - Jarkus Raaien.kmz" lat=5.69 lon=53.44 tilt=70 rotation=210 altitude=15418 class="geapiusermacro" style="height: 350; width: 350;">
      </div>

         <script src="http://www.google.com/jsapi?key=ABCDEFG"> </script>
         <script type="text/javascript">
            google.load("earth", "1");
            var ge;
            var url;
   	     	var lat;
   	     	var lon;
   	     	var altitude;
   	     	var rotation;
   	     	var tilt;

            function initgoogle() {
            	obj = document.getElementById('id1');
            	url = obj.getAttribute('url');
   	  			id = obj.getAttribute('id');
   	  			lat = parseFloat(obj.getAttribute('lat'));
   	  			lon = parseFloat(obj.getAttribute('lon'));
   	  			altitude = parseFloat(obj.getAttribute('altitude'));
   	  			tilt = parseFloat(obj.getAttribute('tilt'));
   	  			rotation = parseFloat(obj.getAttribute('rotation'));

               	google.earth.createInstance('id1', function initCB(instance) {
               	ge = instance;
               	ge.getWindow().setVisibility(true);
               	ge.getNavigationControl().setVisibility(ge.VISIBILITY_SHOW);

               	google.earth.fetchKml(ge, url, function(object){
   			          if (!object)
   				        {
   				          // wrap alerts in API callbacks and event handlers
   				          // in a setTimeout to prevent deadlock in some browsers
   				  	      setTimeout(function() {alert('Bad or null KML.');}, 0);
   				  	      return;
   				        }
   				      ge.getFeatures().appendChild(object);
   					  var lookat = ge.createLookAt('');
   					  lookat.set(lon, lat, 0, ge.ALTITUDE_RELATIVE_TO_GROUND, rotation, tilt, altitude);
   	      			  ge.getView().setAbstractView(lookat);
           	});
            },
            failureCB);
            }

            function failureCB(errorCode)
            {
            }

            google.setOnLoadCallback(initgoogle);
   </script>
</body>
</html>