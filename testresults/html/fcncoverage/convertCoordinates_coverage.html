<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Function details for convertCoordinates</title>
<link type="text/css" href="script/css/jquery-ui-1.7.2.custom.css" rel="stylesheet" />
<link type="text/css" href="script/css/FunctionCoverage.css" rel="stylesheet" />
<script type="text/javascript" src="script/js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="script/js/jquery-ui-1.7.2.custom.min.js"></script>
<script type="text/javascript" src="script/js/matlab2accordion.js"></script>
</head>
<body>
<h2 class="ui-widget-header ui-state-active ui-corner-all">convertCoordinates</h2>
<div class="ui-widget-content ui-corner-all">
<strong>Coverage results</strong><br/>
<table border=0 cellspacing=0 cellpadding=6>
<tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td>
<td class="td-linebottomrt">277</td></tr>
<tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td>
<td class="td-linebottomrt">166</td></tr>
<tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td>
<td class="td-linebottomrt">111</td></tr>
<tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td>
<td class="td-linebottomrt">87</td></tr>
<tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td>
<td class="td-linebottomrt">24</td></tr>
<tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td>
<td class="td-linebottomrt">78.38 %</td></tr>
</table>
</div><br/>
<div class="ui-widget-content ui-corner-all">
<strong>Function listing</strong><br/>
<pre>
<span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span> <span style="font-weight: bold; text-decoration: none">line</span><br/>
               <span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [x2,y2,OPT]=convertCoordinates(x1,y1,varargin)</span>
               <span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%CONVERTCOORDINATES transformation between coordinate systems</span>
               <span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">% [x2,y2,&lt;OPT&gt;] = convertCoordinatesNew(x1,y1,'keyword','value')</span>
               <span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">% Note 1: Beware of the Lon-Lat order of in- and output arguments!</span>
               <span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">% Note 2: (x1,y1) can be vectors or matrices (vectorized).</span>
               <span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">% Note 3: Does not work for MatLab 7.0 and older (gives invalid MEX file</span>
               <span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%         warnings)</span>
               <span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">% Note 4: Rijksdriehoek(RD) to WGS 84 conversions are NOT exact. Accuracy </span>
               <span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%         is better than 0.5m, but multiple conversions can mess things up.</span>
               <span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">%         For accurate conversions, see  &lt;a href="http://www.rdnap.nl/"&gt;www.rdnap.nl/&lt;/a&gt;</span>
               <span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">% x1,y1 : values of the coordinates to be transformed   , either X-Y or Lon-Lat.</span>
               <span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">% x2,y2 : values of the coordinates after transformation, either X-Y or Lon-Lat.</span>
               <span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">% OPT   : contains all conversion parameters that were used.</span>
               <span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">%         To check this output, use 'var2evalstr(OPT)'.</span>
               <span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">% </span>
               <span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">% Optionally the data structure with EPSG codes van be pre-loaded, this </span>
               <span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">% greatly speeds up the routine if many calls are made. The call is either </span>
               <span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%    EPSG        = load('EPSG');</span>
               <span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">%    [x2,y2,OPT] = convertCoordinates(x1,y1,EPSG,'keyword','value')</span>
               <span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">%                  </span>
               <span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">%    or:</span>
               <span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%    [x2,y2,OPT] = convertCoordinates(x1,y1,     'keyword','value')</span>
               <span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">% The most important keyword value pairs are the identifiers for the</span>
               <span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">% coordinate systems:</span>
               <span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%    (from) 'Coordinate System 1' (CS1)</span>
               <span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%    (to)   'Coordinate System 2' (CS2).</span>
               <span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">% Any combination of name, type and code that indetifies a unique</span>
               <span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">% coordinate system will do, e.g.:</span>
               <span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">%    CS1.name = coordinate system name</span>
               <span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">%    CS1.code = coordinate system reference code </span>
               <span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%    CS1.type = projection type</span>
               <span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">% </span>
               <span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">% Projection types supported    : projected and geographic 2D</span>
               <span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;">% Projection not (yet) supported: engineering, geographic 3D, vertical, geocentric,  compound</span>
               <span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">% </span>
               <span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">% Allowed synonyms for 'projected'    : 'xy','proj','cartesian','cart'</span>
               <span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">% Allowed synonyms for 'geographic 2D': 'geo','latlon','lat lon','geographic','geographic2d'</span>
               <span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">% Example 1: 4 different notations of 1 single transformation case:</span>
               <span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">%    [x,y,OPT]=convertCoordinates(52,5,'CS1.name','WGS 84','CS1.type','geo','CS2.name','WGS 84 / UTM zone 31N','CS2.type','xy')</span>
               <span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">%    [x,y,OPT]=convertCoordinates(52,5,'CS1.code',4326                     ,'CS2.name','WGS 84 / UTM zone 31N')</span>
               <span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">%    ESPG = load('EPSG')</span>
               <span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">%    [x,y,OPT]=convertCoordinates(52,5,EPSG,'CS1.name','WGS 84','CS1.type','geo','CS2.code',32631)</span>
               <span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">%    [x,y,OPT]=convertCoordinates(52,5,EPSG,'CS1.code',4326                     ,'CS2.code',32631)</span>
               <span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">% Example 2: Rijksdriehoek to WGS 84:</span>
               <span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;">%   [lon,lat,OPT]=convertCoordinates(xRD,yRD,'CS1.code',28992,'CS2.code',4326)</span>
               <span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">% Example 3: decimal degree to sexagesimal DMS conversion:</span>
               <span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">%   [lon,lat,OPT]=convertCoordinates(52,5.5,'CS1.code',4326,'CS2.code',4326,'CS2.UoM.name','sexagesimal DMS')</span>
               <span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;">% To find specifications of coordinate systems (name &lt;=&gt; code):</span>
               <span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;">% &lt;a href="http://www.epsg-registry.org"&gt;www.epsg-registry.org&lt;/a&gt;.</span>
               <span style="color: #A0A0A0">  67</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">% See also: SuperTransData, EPSG</span>
               <span style="color: #A0A0A0">  69</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0">  70</span> <span style="color: #228B22; background: #FFFFFF;">%   --------------------------------------------------------------------</span>
               <span style="color: #A0A0A0">  71</span> <span style="color: #228B22; background: #FFFFFF;">%   Copyright (C) 2009 Deltares for Building with Nature</span>
               <span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;">%   Based on SuperTrans by Maarten van Ormondt. </span>
               <span style="color: #A0A0A0">  73</span> <span style="color: #228B22; background: #FFFFFF;">%   Rewritten by</span>
               <span style="color: #A0A0A0">  74</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  75</span> <span style="color: #228B22; background: #FFFFFF;">%       Thijs Damsma</span>
               <span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  77</span> <span style="color: #228B22; background: #FFFFFF;">%       Thijs.Damsma@deltares.nl	</span>
               <span style="color: #A0A0A0">  78</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  79</span> <span style="color: #228B22; background: #FFFFFF;">%       Deltares</span>
               <span style="color: #A0A0A0">  80</span> <span style="color: #228B22; background: #FFFFFF;">%       P.O. Box 177</span>
               <span style="color: #A0A0A0">  81</span> <span style="color: #228B22; background: #FFFFFF;">%       2600 MH Delft</span>
               <span style="color: #A0A0A0">  82</span> <span style="color: #228B22; background: #FFFFFF;">%       The Netherlands</span>
               <span style="color: #A0A0A0">  83</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  84</span> <span style="color: #228B22; background: #FFFFFF;">%   This library is free software: you can redistribute it and/or modify</span>
               <span style="color: #A0A0A0">  85</span> <span style="color: #228B22; background: #FFFFFF;">%   it under the terms of the GNU General Public License as published by</span>
               <span style="color: #A0A0A0">  86</span> <span style="color: #228B22; background: #FFFFFF;">%   the Free Software Foundation, either version 3 of the License, or</span>
               <span style="color: #A0A0A0">  87</span> <span style="color: #228B22; background: #FFFFFF;">%   (at your option) any later version.</span>
               <span style="color: #A0A0A0">  88</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  89</span> <span style="color: #228B22; background: #FFFFFF;">%   This library is distributed in the hope that it will be useful,</span>
               <span style="color: #A0A0A0">  90</span> <span style="color: #228B22; background: #FFFFFF;">%   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
               <span style="color: #A0A0A0">  91</span> <span style="color: #228B22; background: #FFFFFF;">%   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
               <span style="color: #A0A0A0">  92</span> <span style="color: #228B22; background: #FFFFFF;">%   GNU General Public License for more details.</span>
               <span style="color: #A0A0A0">  93</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0">  94</span> <span style="color: #228B22; background: #FFFFFF;">%   You should have received a copy of the GNU General Public License</span>
               <span style="color: #A0A0A0">  95</span> <span style="color: #228B22; background: #FFFFFF;">%   along with this library.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
               <span style="color: #A0A0A0">  96</span> <span style="color: #228B22; background: #FFFFFF;">%   --------------------------------------------------------------------</span>
               <span style="color: #A0A0A0">  97</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0">  98</span> <span style="color: #228B22; background: #FFFFFF;">% $Id: convertCoordinates.m 1003 2009-09-10 12:36:44Z damsma $</span>
               <span style="color: #A0A0A0">  99</span> <span style="color: #228B22; background: #FFFFFF;">% $Date: 2009-09-10 14:36:44 +0200 (do, 10 sep 2009) $</span>
               <span style="color: #A0A0A0"> 100</span> <span style="color: #228B22; background: #FFFFFF;">% $Author: damsma $</span>
               <span style="color: #A0A0A0"> 101</span> <span style="color: #228B22; background: #FFFFFF;">% $Revision: 1003 $</span>
               <span style="color: #A0A0A0"> 102</span> <span style="color: #228B22; background: #FFFFFF;">% $HeadURL: https://repos.deltares.nl/repos/OpenEarthTools/trunk/matlab/applications/SuperTrans/convertCoordinates.m $</span>
               <span style="color: #A0A0A0"> 103</span> <span style="color: #228B22; background: #FFFFFF;">% $Keywords: $</span>
               <span style="color: #A0A0A0"> 104</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 105</span> <span style="color: #228B22; background: #FFFFFF;">%% version check</span>
<span style="color: #FF0000">  0.09 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 106</a></span> <span style="color: #000000; background: #E0E0FF;">if datenum(version('-date'))&lt;datenum(2007,1,1) </span>
               <span style="color: #A0A0A0"> 107</span> <span style="color: #A0A0A0; background: #FFFFFF;">    warning('the matlab version your using might be to old for this function') %#ok&lt;WNTAG&gt;</span>
               <span style="color: #A0A0A0"> 108</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span>
               <span style="color: #A0A0A0"> 109</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 110</span> <span style="color: #228B22; background: #FFFFFF;">%% check if EPSG codes are given</span>
               <span style="color: #A0A0A0"> 111</span> <span style="color: #228B22; background: #FFFFFF;"></span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 112</a></span> <span style="color: #000000; background: #E0E0FF;">if odd(length(varargin)) </span>
               <span style="color: #A0A0A0"> 113</span> <span style="color: #A0A0A0; background: #FFFFFF;">    STD = varargin{1};</span>
               <span style="color: #A0A0A0"> 114</span> <span style="color: #A0A0A0; background: #FFFFFF;">    varargin(1)=[];</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 115</a></span> <span style="color: #228B22; background: #FFFFFF;">else </span>
<span style="color: #FF0000">  0.34 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 116</a></span> <span style="color: #000000; background: #E0E0FF;">    STD = load('EPSG'); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 117</a></span> <span style="color: #000000; background: #E0E0FF;">end </span>
               <span style="color: #A0A0A0"> 118</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 119</span> <span style="color: #228B22; background: #FFFFFF;">%% get and set keyword value parameters</span>
               <span style="color: #A0A0A0"> 120</span> <span style="color: #228B22; background: #FFFFFF;"></span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 121</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.name                    = []; % coordinate system name </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 122</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.code                    = []; % coordinate system reference code  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 123</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.type                    = []; % projection type </span>
               <span style="color: #A0A0A0"> 124</span> <span style="color: #228B22; background: #FFFFFF;">                                      % projection types supported:</span>
               <span style="color: #A0A0A0"> 125</span> <span style="color: #228B22; background: #FFFFFF;">                                      % projected, geographic 2D</span>
               <span style="color: #A0A0A0"> 126</span> <span style="color: #228B22; background: #FFFFFF;">                                      %</span>
               <span style="color: #A0A0A0"> 127</span> <span style="color: #228B22; background: #FFFFFF;">                                      % projection not (yet) supported:</span>
               <span style="color: #A0A0A0"> 128</span> <span style="color: #228B22; background: #FFFFFF;">                                      % engineering, geographic 3D, vertical, geocentric,  compound</span>
               <span style="color: #A0A0A0"> 129</span> <span style="color: #228B22; background: #FFFFFF;">                                      %</span>
               <span style="color: #A0A0A0"> 130</span> <span style="color: #228B22; background: #FFFFFF;">                                      % allowed synonyms for 'projected'</span>
               <span style="color: #A0A0A0"> 131</span> <span style="color: #228B22; background: #FFFFFF;">                                      % 'xy','proj','cartesian','cart'</span>
               <span style="color: #A0A0A0"> 132</span> <span style="color: #228B22; background: #FFFFFF;">                                      % allowed sysnonyms for 'geographic 2D'</span>
               <span style="color: #A0A0A0"> 133</span> <span style="color: #228B22; background: #FFFFFF;">                                      % 'geo','geographic2d','latlon','lat lon','geographic'</span>
               <span style="color: #A0A0A0"> 134</span> <span style="color: #228B22; background: #FFFFFF;">                                      </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 135</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.geoRefSys.name          = []; % associated geographic reference system name </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 136</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.geoRefSys.code          = []; % associated geographic reference system code </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 137</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.coordSys.name           = []; % </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 138</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.coordSys.code           = []; % </span>
               <span style="color: #A0A0A0"> 139</span> <span style="color: #228B22; background: #FFFFFF;">                                      </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 140</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.ellips.name             = []; % ellipsoide name </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 141</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.ellips.code             = []; % ellipsoide code </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 142</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.ellips.inv_flattening   = []; % inverse flattening </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 143</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.ellips.semi_major_axis  = []; % semi major axis </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 144</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.ellips.semi_minor_axis  = []; % semi minor axis </span>
               <span style="color: #A0A0A0"> 145</span> <span style="color: #228B22; background: #FFFFFF;">                                      </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 146</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.UoM.name                = []; % unit of measure name of coordinates </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 147</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1.UoM.code                = []; % unit of measure code of coordinates </span>
               <span style="color: #A0A0A0"> 148</span> <span style="color: #228B22; background: #FFFFFF;">                                      </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 149</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv1.name             = []; % projection to datum conversion name </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 150</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv1.code             = []; % projection to datum conversion code </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 151</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv1.param.val        = []; % conversion paramter values </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 152</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv1.param.code       = []; % conversion paramter codes </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 153</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv1.param.name       = []; % conversion paramter names  </span>
               <span style="color: #A0A0A0"> 154</span> <span style="color: #228B22; background: #FFFFFF;"></span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 155</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.datum_trans.code            = []; % </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 156</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.datum_trans_to_WGS84.code   = []; % </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 157</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.WGS84                       = []; % properties of WGS84 ellipsoide for intermediate conversion </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 158</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.datum_trans_from_WGS84.code = []; % </span>
               <span style="color: #A0A0A0"> 159</span> <span style="color: #228B22; background: #FFFFFF;"></span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 160</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv2.name             = []; % projection to datum conversion name </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 161</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv2.code             = []; % projection to datum conversion code </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 162</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv2.param.val        = []; % conversion paramter values </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 163</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv2.param.code       = []; % conversion paramter codes </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 164</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.proj_conv2.param.name       = []; % conversion paramter names  </span>
               <span style="color: #A0A0A0"> 165</span> <span style="color: #228B22; background: #FFFFFF;"></span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 166</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.name                    = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 167</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.code                    = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 168</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.type                    = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 169</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.geoRefSys.name          = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 170</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.geoRefSys.code          = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 171</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.coordSys.name           = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 172</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.coordSys.code           = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 173</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.ellips.name             = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 174</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.ellips.code             = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 175</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.ellips.inv_flattening   = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 176</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.ellips.semi_major_axis  = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 177</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.ellips.semi_minor_axis  = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 178</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.UoM.name                = [];  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 179</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2.UoM.code                = [];  </span>
               <span style="color: #A0A0A0"> 180</span> <span style="color: #228B22; background: #FFFFFF;"></span>
<span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 181</a></span> <span style="color: #000000; background: #E0E0FF;">[OPT, Set, Default]     = setPropertyInDeeperStruct(OPT, varargin{:}); </span>
               <span style="color: #A0A0A0"> 182</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 183</span> <span style="color: #228B22; background: #FFFFFF;">%% error check the input, and find the indices of coordinate systems in data structure </span>
               <span style="color: #A0A0A0"> 184</span> <span style="color: #228B22; background: #FFFFFF;">% replace synonyms with default names. e.g. replace 'geo' with 'geographic 2D'</span>
               <span style="color: #A0A0A0"> 185</span> <span style="color: #228B22; background: #FFFFFF;">% reference system</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 186</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1 = ConvertCoordinatesCheckInput(OPT.CS1,STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 187</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2 = ConvertCoordinatesCheckInput(OPT.CS2,STD); </span>
               <span style="color: #A0A0A0"> 188</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 189</span> <span style="color: #228B22; background: #FFFFFF;">%% find coordinate reference system</span>
<span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 190</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1 = ConvertCoordinatesFindCoordRefSys(OPT.CS1,STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 191</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2 = ConvertCoordinatesFindCoordRefSys(OPT.CS2,STD); </span>
               <span style="color: #A0A0A0"> 192</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 193</span> <span style="color: #228B22; background: #FFFFFF;">%% find coordinate system</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 194</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1 = ConvertCoordinatesFindCoordSys(OPT.CS1,STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 195</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2 = ConvertCoordinatesFindCoordSys(OPT.CS2,STD); </span>
               <span style="color: #A0A0A0"> 196</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 197</span> <span style="color: #228B22; background: #FFFFFF;">%% find coordinate system unit of measure</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 198</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1 = ConvertCoordinatesFindUoM(OPT.CS1,STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 199</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2 = ConvertCoordinatesFindUoM(OPT.CS2,STD); </span>
               <span style="color: #A0A0A0"> 200</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 201</span> <span style="color: #228B22; background: #FFFFFF;">%% find geographic reference system</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 202</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1 = ConvertCoordinatesFindGeoRefSys(OPT.CS1,STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 203</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2 = ConvertCoordinatesFindGeoRefSys(OPT.CS2,STD); </span>
               <span style="color: #A0A0A0"> 204</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 205</span> <span style="color: #228B22; background: #FFFFFF;">%% find datum</span>
<span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 206</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1 = ConvertCoordinatesFindDatum(OPT.CS1,STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 207</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2 = ConvertCoordinatesFindDatum(OPT.CS2,STD); </span>
               <span style="color: #A0A0A0"> 208</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 209</span> <span style="color: #228B22; background: #FFFFFF;">%% find ellips</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 210</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS1 = ConvertCoordinatesFindEllips(OPT.CS1,STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 211</a></span> <span style="color: #000000; background: #E0E0FF;">OPT.CS2 = ConvertCoordinatesFindEllips(OPT.CS2,STD); </span>
               <span style="color: #A0A0A0"> 212</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 213</span> <span style="color: #228B22; background: #FFFFFF;">%% find conversion parameters</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 214</a></span> <span style="color: #000000; background: #E0E0FF;">switch OPT.CS1.type </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 215</a></span> <span style="color: #000000; background: #E0E0FF;">    case 'projected' % Coordinate conversion to radians </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 216</a></span> <span style="color: #000000; background: #E0E0FF;">        OPT.proj_conv1 = ConvertCoordinatesFindConversionParams(OPT.CS1,STD); </span>
               <span style="color: #A0A0A0"> 217</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'geographic 2D' % do nothing</span>
               <span style="color: #A0A0A0"> 218</span> <span style="color: #228B22; background: #FFFFFF;">        %OPT.proj_conv1 = 'No projection conversion neccessary';</span>
               <span style="color: #A0A0A0"> 219</span> <span style="color: #A0A0A0; background: #FFFFFF;">        OPT = rmfield(OPT,'proj_conv1');</span>
               <span style="color: #A0A0A0"> 220</span> <span style="color: #A0A0A0; background: #FFFFFF;">    otherwise, error(['CRS type ''' OPT.CS1.type ''' not supported (yet)',sprintf('\n\n'),var2evalstr(OPT)])</span>
               <span style="color: #A0A0A0"> 221</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span>
               <span style="color: #A0A0A0"> 222</span> <span style="color: #228B22; background: #FFFFFF;"></span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 223</a></span> <span style="color: #000000; background: #E0E0FF;">switch OPT.CS2.type </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 224</a></span> <span style="color: #000000; background: #E0E0FF;">    case 'projected' % Coordinate conversion to radians </span>
               <span style="color: #A0A0A0"> 225</span> <span style="color: #A0A0A0; background: #FFFFFF;">        OPT.proj_conv2 = ConvertCoordinatesFindConversionParams(OPT.CS2,STD);</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 226</a></span> <span style="color: #000000; background: #E0E0FF;">    case 'geographic 2D' % do nothing </span>
               <span style="color: #A0A0A0"> 227</span> <span style="color: #228B22; background: #FFFFFF;">        %OPT.proj_conv2 = 'No projection conversion neccessary';</span>
<span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 228</a></span> <span style="color: #000000; background: #E0E0FF;">        OPT = rmfield(OPT,'proj_conv2'); </span>
               <span style="color: #A0A0A0"> 229</span> <span style="color: #A0A0A0; background: #FFFFFF;">    otherwise, error(['CRS type ''' OPT.CS1.type ''' not supported (yet)',sprintf('\n\n'),var2evalstr(OPT)])</span>
               <span style="color: #A0A0A0"> 230</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span>
               <span style="color: #A0A0A0"> 231</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 232</span> <span style="color: #228B22; background: #FFFFFF;">%% Transform input coordinates to geographic 2D radians</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 233</a></span> <span style="color: #000000; background: #E0E0FF;">switch OPT.CS1.type </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 234</a></span> <span style="color: #000000; background: #E0E0FF;">    case 'projected' % convert projection to geographic radians </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 235</a></span> <span style="color: #000000; background: #E0E0FF;">        x1 = convertUnits(x1,OPT.CS1.UoM.name,'metre',STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 236</a></span> <span style="color: #000000; background: #E0E0FF;">        y1 = convertUnits(y1,OPT.CS1.UoM.name,'metre',STD); </span>
<span style="color: #FF0000">  0.47 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 237</a></span> <span style="color: #000000; background: #E0E0FF;">        [lat1,lon1] = ConvertCoordinatesProjectionConvert(x1,y1,OPT.CS1,OPT.proj_conv1,'xy2geo',STD); </span>
               <span style="color: #A0A0A0"> 238</span> <span style="color: #A0A0A0; background: #FFFFFF;">    case 'geographic 2D' % do nothing, except for a unit conversion</span>
               <span style="color: #A0A0A0"> 239</span> <span style="color: #A0A0A0; background: #FFFFFF;">        lon1 = convertUnits(x1,OPT.CS1.UoM.name,'radian',STD);</span>
               <span style="color: #A0A0A0"> 240</span> <span style="color: #A0A0A0; background: #FFFFFF;">        lat1 = convertUnits(y1,OPT.CS1.UoM.name,'radian',STD);</span>
               <span style="color: #A0A0A0"> 241</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span>
               <span style="color: #A0A0A0"> 242</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 243</span> <span style="color: #228B22; background: #FFFFFF;">%% find datum transformation options</span>
               <span style="color: #A0A0A0"> 244</span> <span style="color: #228B22; background: #FFFFFF;">% check if geogcrs_code1 and geogcrs_code2 are different</span>
               <span style="color: #A0A0A0"> 245</span> <span style="color: #228B22; background: #FFFFFF;">%</span>
               <span style="color: #A0A0A0"> 246</span> <span style="color: #228B22; background: #FFFFFF;">% check if there is a direct transormation between geogcrs_code1 and</span>
               <span style="color: #A0A0A0"> 247</span> <span style="color: #228B22; background: #FFFFFF;">% geogcrs_code2; </span>
               <span style="color: #A0A0A0"> 248</span> <span style="color: #228B22; background: #FFFFFF;">% </span>
               <span style="color: #A0A0A0"> 249</span> <span style="color: #228B22; background: #FFFFFF;">% * if multiple options found, use the newest unless user has defined something else</span>
               <span style="color: #A0A0A0"> 250</span> <span style="color: #228B22; background: #FFFFFF;">% * if no direct transformation exists, convert via WGS 84</span>
<span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 251</a></span> <span style="color: #000000; background: #E0E0FF;">OPT = ConvertCoordinatesFindDatumTransOpt(OPT,STD); </span>
               <span style="color: #A0A0A0"> 252</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 253</span> <span style="color: #228B22; background: #FFFFFF;">%% do datum transformation</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 254</a></span> <span style="color: #000000; background: #E0E0FF;">if ~isfield(OPT,'datum_trans') </span>
               <span style="color: #A0A0A0"> 255</span> <span style="color: #A0A0A0; background: #FFFFFF;"> lat2 = lat1;</span>
               <span style="color: #A0A0A0"> 256</span> <span style="color: #A0A0A0; background: #FFFFFF;"> lon2 = lon1;</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 257</a></span> <span style="color: #228B22; background: #FFFFFF;">else </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 258</a></span> <span style="color: #000000; background: #E0E0FF;">    if ~isfield(OPT,'datum_trans_from_WGS84') %only exists when tranforming via WGS 84 </span>
<span style="color: #FF0000">  0.47 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 259</a></span> <span style="color: #000000; background: #E0E0FF;">        [lat2,lon2] = ConvertCoordinatesDatumTransform(lat1,lon1,OPT,'datum_trans'); </span>
               <span style="color: #A0A0A0"> 260</span> <span style="color: #228B22; background: #FFFFFF;">    else</span>
               <span style="color: #A0A0A0"> 261</span> <span style="color: #A0A0A0; background: #FFFFFF;">        [lat2,lon2] = ConvertCoordinatesDatumTransform(lat1,lon1,OPT,'datum_trans_to_WGS84');</span>
               <span style="color: #A0A0A0"> 262</span> <span style="color: #A0A0A0; background: #FFFFFF;">        [lat2,lon2] = ConvertCoordinatesDatumTransform(lat2,lon2,OPT,'datum_trans_from_WGS84');</span>
               <span style="color: #A0A0A0"> 263</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 264</a></span> <span style="color: #000000; background: #E0E0FF;">end    </span>
               <span style="color: #A0A0A0"> 265</span> <span style="color: #228B22; background: #FFFFFF;"></span>
               <span style="color: #A0A0A0"> 266</span> <span style="color: #228B22; background: #FFFFFF;">%% Transform geographic 2D radians to output coordinates </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 267</a></span> <span style="color: #000000; background: #E0E0FF;">switch OPT.CS2.type </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 268</a></span> <span style="color: #000000; background: #E0E0FF;">    case 'projected' % convert projection to geographic radians </span>
               <span style="color: #A0A0A0"> 269</span> <span style="color: #A0A0A0; background: #FFFFFF;">        [y2,x2] = ConvertCoordinatesProjectionConvert(lon2,lat2,OPT.CS2,OPT.proj_conv2,'geo2xy',STD);</span>
               <span style="color: #A0A0A0"> 270</span> <span style="color: #A0A0A0; background: #FFFFFF;">        x2 = convertUnits(x2,OPT.CS2.UoM.name,'metre',STD);</span>
               <span style="color: #A0A0A0"> 271</span> <span style="color: #A0A0A0; background: #FFFFFF;">        y2 = convertUnits(y2,OPT.CS2.UoM.name,'metre',STD);</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 272</a></span> <span style="color: #000000; background: #E0E0FF;">    case 'geographic 2D'  </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 273</a></span> <span style="color: #000000; background: #E0E0FF;">        x2 = convertUnits(lon2,'radian',OPT.CS2.UoM.name,STD); </span>
<span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 274</a></span> <span style="color: #000000; background: #E0E0FF;">        y2 = convertUnits(lat2,'radian',OPT.CS2.UoM.name,STD); </span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 275</a></span> <span style="color: #000000; background: #E0E0FF;">end </span>
               <span style="color: #A0A0A0"> 276</span> <span style="color: #228B22; background: #FFFFFF;">%% EOF</span>
       <span style="color: #0000FF">      1 </span><span style="color: #000000; font-weight: bold"><a> 277</a></span> <span style="color: #000000; background: #E0E0FF;">end </span>
</pre>
</div>
</body>
</html>
