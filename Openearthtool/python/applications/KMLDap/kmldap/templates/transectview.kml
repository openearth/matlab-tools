<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2" xmlns:kml="http://www.opengis.net/kml/2.2" xmlns:atom="http://www.w3.org/2005/Atom">
<Document>
	<name>${transect.id}</name>

	<!-- this the style for the upper line -->
	<Style id="transect">
		<LineStyle>
			<color>bbbb3333</color>
			<width>2</width>
		</LineStyle>
		<PolyStyle>
			<color>33331111</color>
			<outline>0</outline>
		</PolyStyle>
	</Style>
	% for i, year in enumerate(transect.t):
	<Placemark>
		<name>${year}</name>
		<styleUrl>#transect</styleUrl>
		## first one without extrude
		<LineString>
			<extrude>1</extrude>
			<tessellate>1</tessellate>
			<altitudeMode>relativeToGround</altitudeMode>
			<gx:altitudeMode>relativeToSeaFloor</gx:altitudeMode>
			<coordinates>
			  ${h.textcoordinates(transect.lon, transect.lat, transect.z[i,:] * 4 + 40)}
			</coordinates>
		</LineString>
		<TimeSpan id="ID">
		  <begin>${h.kmldate(transect.begindates()[i])}</begin>     <!-- kml:dateTime -->
		  <end>${h.kmldate(transect.enddates()[i])}</end>         <!-- kml:dateTime -->
		</TimeSpan>
	</Placemark>
	% endfor
</Document>
</kml>
