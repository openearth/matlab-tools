
<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
-->
<title>Include KML in tutorial</title>
<meta name="generator" content="MATLAB 7.9">
<meta name="date" content="2009-12-18">
<meta name="m-file" content="kml_demo_tutorial">
<link type="text/css" href="script/css/jquery-ui-1.7.2.custom.css" rel="stylesheet">
<link type="text/css" href="script/css/jquery.collapsible.css" rel="stylesheet">
<script type="text/javascript" src="script/js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="script/js/jquery-ui-1.7.2.custom.min.js"></script>
<script type="text/javascript" src="script/js/matlab2collapsible.js"></script>
<script type="text/javascript" src="script/js/jquery.collapsible.js"></script>
<script type="text/javascript" src="script/js/matlabhelp.js"></script>
<script src="http://www.google.com/jsapi?key=ABQIAAAA9KO06BPsmsvzw4PogoawhRSy_gnlezoEvdu0tA7HZgv5qdaupRRCGAytCifAIns0R25EQD_uP7lUDw"></script>
<script type="text/javascript">
var ge;
var currentKmlObject = null;
google.load("earth", "1");
google.setOnLoadCallback(init);

function init()
{
	google.earth.setLanguage('en');
	google.earth.createInstance('map3d', initCB, failureCB);
}

function initCB(instance)
{
	ge = instance;
	ge.getWindow().setVisibility(true);
	ge.getNavigationControl().setVisibility(ge.VISIBILITY_SHOW);
	// in this sample we will attempt
	// to fetch a  KML file and show it
	// fetch the KML
	var url = 'http://dtvirt5.deltares.nl/kml/Westerschelde/bathymetry.kml';
	google.earth.fetchKml(ge, url, finished);
}

function finished(object)
{
	if (!object) {
	// wrap alerts in API callbacks and event handlers
	// in a setTimeout to prevent deadlock in some browsers
	setTimeout(function() {
	alert('Bad or null KML.');
	}, 0);
	return;
	}
	ge.getFeatures().appendChild(object);
	var la = ge.createLookAt('');
	la.set(51.4, 3.3, 0, ge.ALTITUDE_RELATIVE_TO_GROUND,90, 70, 40000);
	ge.getView().setAbstractView(la);
}

function failureCB(errorCode)
{
}

$(document).ready(function ()
{
	// Copy content
	copycontent();

	// validate href of links to matlab tutorials
	matlabpreparehelprefs();

	// Accordion
	collapsible($(".collapsible"));
});
</script>

<style>
pre.codeinput {
overflow-x: auto;
background: #EEEEEE;
padding: 10px;
}

@media print {
pre.codeinput {word-wrap:break-word; width:100%;}
}

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #9F1EF4}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
overflow-x: auto;
color: #666666;
padding: 10px;
}

pre.error {
color: red;
}

p.footer {
text-align: right;
font-size: xx-small;
font-weight: lighter;
font-style: italic;
color: gray;
}

#contents {
border-style:solid;
border-width:1px;
}

</style></head>

<body LINK="#48339F" VLINK="#48339F" ALINK="#48339F">
<div class="content">
	<div class="introduction ui-widget ui-widget-content ui-corner-all">
		<h1>Include KML in tutorial</h1>
		<div>
			<p>
				With the <a href="http://code.google.com/intl/nl/apis/earth/">Google Earth API</a> that can be
				used in web pages, it is possible to interactively include kml files in the tutorials or other
				webpages on the OpenEarth wiki. This tutorial explaines how to include a google earth API in a web
				page.
			</p>
		</div>
		<h2>Contents</h2>
		<div>
			<ul>
				<li><a href="#1">Google earth API licence</a></li>
				<li><a href="#2">Initiate code</a></li>
				<li><a href="#3">Example</a></li>
			</ul>
		</div>
	</div>
	<div class="collapsible">
		<div>
			<h2><a name="1">Google earth API licence</a></h2>
			<div></div>
		</div>
		<div>
			<h2><a name="2">Initiate code</a></h2>
			<div></div>
		</div>
		<div>
			<h2><a name="3">Example</a></h2>
			<div>
				<p>Lets try to include the API</p>
			</div>
		</div>
		<div>
			<div>
				<p>
					<div id="map3d" style="height: 600px; width: 800px;"></div>
				</p>
			</div>
		</div>
		<div>
			<div>
				<p>Nog een afsluitende text</p>
			</div>
		</div>
	</div>
	<p class="footer"><br>
		this tutorial is based on: <a class="matlabhref" href="matlab:edit('kml_demo_tutorial');" browserhref="http://crucible.delftgeosystems.nl/browse/~raw,r=2078/OpenEarthTools/trunk/matlab/applications/googleplot/kml_demo_tutorial.m">kml_demo_tutorial.m (revision: 2078)</a><br>
		Published with MATLAB&reg; 7.9<br>
	</p>
</div>

<!--
##### SOURCE BEGIN #####
%% Include KML in tutorial
%
% <html>
% With the <a href="http://code.google.com/intl/nl/apis/earth/">Google Earth API</a> that can be
% used in web pages, it is possible to interactively include kml files in the tutorials or other
% webpages on the OpenEarth wiki. This tutorial explaines how to include a google earth API in a web
% page.
% </html>
%

%% Google earth API licence

%% Initiate code

%% Example
% Lets try to include the API

%%
%
% <html>
%    <script src="http://www.google.com/jsapi?key=ABQIAAAA9KO06BPsmsvzw4PogoawhRSy_gnlezoEvdu0tA7HZgv5qdaupRRCGAytCifAIns0R25EQD_uP7lUDw"> </script>
%    <script type="text/javascript">
%     var ge;
% 	  var currentKmlObject = null;
%       google.load("earth", "1");
%       function init() {
%       	 google.earth.setLanguage('en');
%          google.earth.createInstance('map3d', initCB, failureCB);
%       }
%       function initCB(instance) {
%       	ge = instance;
% 	  	ge.getWindow().setVisibility(true);
% 	  	ge.getNavigationControl().setVisibility(ge.VISIBILITY_SHOW);
% 	  // in this sample we will attempt
% 	  // to fetch a  KML file and show it
% 	  // fetch the KML
% 	  var url = 'http://dtvirt5.deltares.nl/kml/Westerschelde/bathymetry.kml';
% 	  google.earth.fetchKml(ge, url, finished);
%       }
% 	  function finished(object) {
% 	    if (!object) {
% 	      // wrap alerts in API callbacks and event handlers
% 	      // in a setTimeout to prevent deadlock in some browsers
% 	      setTimeout(function() {
% 	        alert('Bad or null KML.');
% 	      }, 0);
% 	      return;
% 	    }
% 	    ge.getFeatures().appendChild(object);
% 	    var la = ge.createLookAt('');
% 	    la.set(51.4, 3.3, 0, ge.ALTITUDE_RELATIVE_TO_GROUND,
% 	           90, 70, 40000);
% 	    ge.getView().setAbstractView(la);
% 	  }
%       function failureCB(errorCode) {
%       }
%       google.setOnLoadCallback(init);
%    </script>
%    <div id="map3d" style="height: 600px; width: 800px;"></div>
% </html>
%
%%
% Nog een afsluitende text

##### SOURCE END #####
-->

</body>
</html>
