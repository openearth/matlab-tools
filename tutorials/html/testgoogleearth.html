<html>
<head>
   <title>Sample</title>
   <script src="http://www.google.com/jsapi?key=ABQIAAAA9KO06BPsmsvzw4PogoawhRSy_gnlezoEvdu0tA7HZgv5qdaupRRCGAytCifAIns0R25EQD_uP7lUDw"> </script>
   <script type="text/javascript">
      var ge;
	  var currentKmlObject = null;
      google.load("earth", "1");

      function init() {
      	 google.earth.setLanguage('en');
         google.earth.createInstance('map3d', initCB, failureCB);
      }

      function initCB(instance) {
      	ge = instance;
	  	ge.getWindow().setVisibility(true);

	  	ge.getNavigationControl().setVisibility(ge.VISIBILITY_SHOW);

	  // in this sample we will attempt
	  // to fetch a  KML file and show it


	  // fetch the KML
	  // relative urls do not work in v5.0 --> see issue 290
	  var url = 'http://dtvirt5.deltares.nl/kml/Westerschelde/bathymetry.kml';
	  google.earth.fetchKml(ge, url, finished);

      }

	  function finished(object) {
	    if (!object) {
	      // wrap alerts in API callbacks and event handlers
	      // in a setTimeout to prevent deadlock in some browsers
	      setTimeout(function() {
	        alert('Bad or null KML.');
	      }, 0);
	      return;
	    }
	    ge.getFeatures().appendChild(object);
	    var la = ge.createLookAt('');
	    la.set(51.4, 3.3, 0, ge.ALTITUDE_RELATIVE_TO_GROUND,
	           90, 70, 40000);
	    ge.getView().setAbstractView(la);
	  }

      function failureCB(errorCode) {
      }

      google.setOnLoadCallback(init);
   </script>

</head>
<body>
   <div id="map3d" style="height: 600px; width: 800px;"></div>
</body>
</html>