
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
      -->
      <title>KMLline</title>
      <meta name="generator" content="MATLAB 7.8">
      <meta name="date" content="2009-10-19">
      <meta name="m-file" content="KMLline_tutorial">
      <link type="text/css" href="script/css/jquery-ui-1.7.2.custom.css" rel="stylesheet">
      <link type="text/css" href="script/css/jquery.collapsible.css" rel="stylesheet"><script type="text/javascript" src="script/js/jquery-1.3.2.min.js"></script><script type="text/javascript" src="script/js/jquery-ui-1.7.2.custom.min.js"></script><script type="text/javascript" src="script/js/matlab2collapsible.js"></script><script type="text/javascript" src="script/js/jquery.collapsible.js"></script><script type="text/javascript">
  	$(document).ready(function ()
  	{
  	// Copy content
	copycontent();

  	// Accordion
  	collapsible($(".collapsible"));
  	});
    </script><style>

pre.codeinput {
  overflow-x: auto;
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
}

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #9F1EF4}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  overflow-x: auto;
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

#contents {
  border-style:solid;
  border-width:1px;
}

  </style></head>
   <body LINK="#48339F" VLINK="#48339F" ALINK="#48339F">
      <div class="content">
         <div class="introduction ui-widget ui-widget-content ui-corner-all">
            <h1>KMLline</h1>
            <div>
               <p>This tutorial explains KMLline</p>
            </div>
            <h2>Contents</h2>
            <div>
               <ul>
                  <li><a href="#1">A simple case</a></li>
                  <li><a href="#5">3D lines</a></li>
                  <li><a href="#8">Multiple lines</a></li>
                  <li><a href="#11">Grids</a></li>
                  <li><a href="#14">Advanced options</a></li>
               </ul>
            </div>
         </div>
         <div class="collapsible">
            <div>
               <h2><a name="1">A simple case</a></h2>
               <div>
                  <p>The best documented function in the toolbox is KML line For the most it works just like matlab line, except that a lot of
                     extra options are available via keyword value pairs.
                  </p>
               </div>
            </div>
            <div>
               <div>
                  <p>Just a simple case, some lat an lon data. To see approximately what we will get, use the matlab function line.</p><pre class="codeinput">lat = [70 40 40 70];
lon = [4,5,16,16];

line(lat,lon);
axis([30 80 3 17])
</pre><img vspace="5" hspace="5" src="KMLline_tutorial_01.png" relsrc="KMLline_tutorial_01.png"> </div>
            </div>
            <div>
               <div>
                  <p>KMLline works just like line, except that one has to save the output file, and open that in Google Earth to view the result.
                     Alternatively, you can assign the location to save the file as a keyword/value pair.
                  </p><pre class="codeinput">fname = <span class="string">'line.kml'</span>;
KMLline(lat,lon,<span class="string">'fileName'</span>,fname);
</pre></div>
            </div>
            <div>
               <div>
                  <p><img vspace="5" hspace="5" src="prerendered_images/KML_line1.jpg" relsrc="prerendered_images/KML_line1.jpg"> </p>
               </div>
            </div>
            <div>
               <h2><a name="5">3D lines</a></h2>
               <div>
                  <p>matlab can also draw 3 dimensional lines</p><pre class="codeinput">lon = 0:.1:360;
lat = linspace(0,90,size(lon,2));
z  = (1+sind(lon*50))*1e5;
clf;
line(lat,lon,z)
view([-3 88])
</pre><img vspace="5" hspace="5" src="KMLline_tutorial_02.png" relsrc="KMLline_tutorial_02.png"> </div>
            </div>
            <div>
               <div>
                  <p>and so can KMLline</p><pre class="codeinput">KMLline(lat,lon,z,<span class="string">'fileName'</span>,fname);
</pre></div>
            </div>
            <div>
               <div>
                  <p><img vspace="5" hspace="5" src="prerendered_images/KML_line2.jpg" relsrc="prerendered_images/KML_line2.jpg"> </p>
               </div>
            </div>
            <div>
               <h2><a name="8">Multiple lines</a></h2>
               <div>
                  <p>Matlab can draw multiple lines at once</p><pre class="codeinput">[lat,lon] = meshgrid(90:-10:-90,0:.5:360);
z  = (1+sind(lon*50))*1e5;
clf;
line(lat,lon,z)
view([66 89])
</pre><img vspace="5" hspace="5" src="KMLline_tutorial_03.png" relsrc="KMLline_tutorial_03.png"> </div>
            </div>
            <div>
               <div>
                  <p>and so can KMLline</p><pre class="codeinput">KMLline(lat,lon,z,<span class="string">'fileName'</span>,fname);
</pre></div>
            </div>
            <div>
               <div>
                  <p><img vspace="5" hspace="5" src="prerendered_images/KML_line3.jpg" relsrc="prerendered_images/KML_line3.jpg"> </p>
               </div>
            </div>
            <div>
               <h2><a name="11">Grids</a></h2>
               <div>
                  <p>We can also add the transposed lines</p><pre class="codeinput">line(lat',lon',z')
axis([-10 30 10 30 0 1e5])
axis <span class="string">off</span>
</pre><img vspace="5" hspace="5" src="KMLline_tutorial_04.png" relsrc="KMLline_tutorial_04.png"> </div>
            </div>
            <div>
               <div>
                  <p>And so can KMLline. Save with a different name as the previous KML file and open both in Google Earth. Also, we set the 'fill'
                     property to false
                  </p><pre class="codeinput">KMLline(lat',lon',z',<span class="string">'fileName'</span>,fname,<span class="string">'fill'</span>,false);
</pre></div>
            </div>
            <div>
               <div>
                  <p><img vspace="5" hspace="5" src="prerendered_images/KML_line4.jpg" relsrc="prerendered_images/KML_line4.jpg"> </p>
               </div>
            </div>
            <div>
               <h2><a name="14">Advanced options</a></h2>
               <div>
                  <p>Finally, here is an example of how to make some more complex output, using additional keyoword value pairs</p>
               </div>
            </div>
            <div>
               <div>
                  <p>To get an idea of different options, just call the function without arguments.</p><pre class="codeinput">KMLline
</pre><pre class="codeoutput">
ans = 

        fileName: []
         kmlName: []
       lineWidth: 1
       lineColor: [0 0 0]
       lineAlpha: 1
            fill: 1
       fillColor: [0 0.5000 0]
       fillAlpha: 0.4000
        openInGE: 0
          timeIn: []
         timeOut: []
            is3D: 0
         visible: 1
         extrude: 1
      tessellate: 1
       zScaleFun: @(z)(z+0)*1
    dateStrStyle: 29

</pre></div>
            </div>
            <div>
               <div>
                  <p>We will generate some data, and specify a variety of input arguments. Note the repetition of inputs that are smaller than
                     the number of lines. This allows one to make patterns in the output.
                  </p><pre class="codeinput">[lat,lon] = meshgrid(30:.1:35,0:.1:5);
z  = 1000*abs(peaks(51));

OPT = KMLline(lat,lon,z,<span class="string">'fileName'</span>,<span class="keyword">...</span>
    fname,<span class="string">'fillColor'</span>,jet(5),<span class="string">'fillAlpha'</span>,[1 0 1 0 1],<span class="keyword">...</span>
    <span class="string">'lineColor'</span>,[0 0 1],<span class="string">'lineWidth'</span>,[0 1 2 4 2 1],<span class="string">'lineAlpha'</span>,linspace(0,1,51));
</pre></div>
            </div>
            <div>
               <div>
                  <p><img vspace="5" hspace="5" src="prerendered_images/KML_line5.jpg" relsrc="prerendered_images/KML_line5.jpg"> </p>
               </div>
            </div>
            <div>
               <div>
                  <p>To understand how this works, evaluate the OPT</p><pre class="codeinput">var2evalstr(OPT)
</pre><pre class="codeoutput">
ans =

OPT.fileName = 'line.kml';
OPT.kmlName = 'line';
OPT.lineWidth = [0 1 2 4 2 1 0 1 2 4 2 1 0 1 2 4 2 1 0 1 2 4 2 1 0 1 2 4 2 1 0 1 2 4 2 1 0 1 2 4 2 1 0 1 2 4 2 1 0 1 2]';
OPT.lineColor = [0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1
	0 0 1];
OPT.lineAlpha = [0 0.02 0.04 0.06 0.08 0.1 0.12 0.14 0.16 0.18 0.2 0.22 0.24 0.26 0.28 0.3 0.32 0.34 0.36 0.38 0.4 0.42 0.44 0.46 0.48 0.5 0.52 0.54 0.56 0.58 0.6 0.62 0.64 0.66 0.68 0.7 0.72 0.74 0.76 0.78 0.8 0.82 0.84 0.86 0.88 0.9 0.92 0.94 0.96 0.98 1]';
OPT.fill = true;
OPT.fillColor = [0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1
	0 1 1
	0.5 1 0.5
	1 1 0
	1 0.5 0
	0 0.5 1];
OPT.fillAlpha = [1 0 1 0 1 1 0 1 0 1 1 0 1 0 1 1 0 1 0 1 1 0 1 0 1 1 0 1 0 1 1 0 1 0 1 1 0 1 0 1 1 0 1 0 1 1 0 1 0 1 1]';
OPT.openInGE = false;
OPT.timeIn = [];
OPT.timeOut = [];
OPT.is3D = true;
OPT.visible = true;
OPT.extrude = true;
OPT.tessellate = true;
OPT.zScaleFun = @@(z)(z+0)*1;
OPT.dateStrStyle = 29;
OPT.line_nr = [1 10 27 44 28 11 2 12 29 45 30 13 3 14 31 46 32 15 4 16 33 47 34 17 5 18 35 48 36 19 6 20 37 49 38 21 7 22 39 50 40 23 8 24 41 51 42 25 9 26 43]';
OPT.fill_nr = [1 2 3 5 4 1 2 3 5 4 1 2 3 5 4 1 2 3 5 4 1 2 3 5 4 1 2 3 5 4 1 2 3 5 4 1 2 3 5 4 1 2 3 5 4 1 2 3 5 4 1]';
OPT.fid = 23;


</pre></div>
            </div>
            <div>
               <div>
                  <p>Notice how there are only five distinct fill styles, but 51 unique line styles.</p>
               </div>
            </div>
         </div>
         <p class="footer"><br>
            Published with MATLAB&reg; 7.8<br></p>
      </div>
      <!--
##### SOURCE BEGIN #####
%% KMLline
% This tutorial explains KMLline

%% A simple case
% The best documented function in the toolbox is KML line
% For the most it works just like matlab line, except that a lot of extra
% options are available via keyword value pairs.
%% 
% Just a simple case, some lat an lon data. To see approximately what we
% will get, use the matlab function line. 

lat = [70 40 40 70];
lon = [4,5,16,16];

line(lat,lon);
axis([30 80 3 17])

%%
% KMLline works just like line, except that one has to save the output
% file, and open that in Google Earth to view the result. Alternatively,
% you can assign the location to save the file as a keyword/value pair.

fname = 'line.kml';
KMLline(lat,lon,'fileName',fname);

%%
% 
% <<prerendered_images/KML_line1.jpg>>
% 
%% 3D lines
% matlab can also draw 3 dimensional lines

lon = 0:.1:360;
lat = linspace(0,90,size(lon,2));
z  = (1+sind(lon*50))*1e5;
clf;
line(lat,lon,z)
view([-3 88])

%%
% and so can KMLline

KMLline(lat,lon,z,'fileName',fname);

%%
% 
% <<prerendered_images/KML_line2.jpg>>
% 
%% Multiple lines
% Matlab can draw multiple lines at once

[lat,lon] = meshgrid(90:-10:-90,0:.5:360);
z  = (1+sind(lon*50))*1e5;
clf;
line(lat,lon,z)
view([66 89])

%%
% and so can KMLline

KMLline(lat,lon,z,'fileName',fname);

%%
% 
% <<prerendered_images/KML_line3.jpg>>
% 
%% Grids
% We can also add the transposed lines 

line(lat',lon',z')
axis([-10 30 10 30 0 1e5])
axis off

%%
% And so can KMLline. Save with a different name as the previous KML
% file and open both in Google Earth.
% Also, we set the 'fill' property to false

KMLline(lat',lon',z','fileName',fname,'fill',false);

%%
% 
% <<prerendered_images/KML_line4.jpg>>
% 

%% Advanced options
% Finally, here is an example of how to make some more complex output,
% using additional keyoword value pairs

%%
% To get an idea of different options, just call the function without
% arguments.

KMLline

%%
% We will generate some data, and specify a variety of input arguments.
% Note the repetition of inputs that are smaller than the number of lines.
% This allows one to make patterns in the output.

[lat,lon] = meshgrid(30:.1:35,0:.1:5);
z  = 1000*abs(peaks(51));

OPT = KMLline(lat,lon,z,'fileName',...
    fname,'fillColor',jet(5),'fillAlpha',[1 0 1 0 1],...
    'lineColor',[0 0 1],'lineWidth',[0 1 2 4 2 1],'lineAlpha',linspace(0,1,51));

%%
% 
% <<prerendered_images/KML_line5.jpg>>
% 

%%
% To understand how this works, evaluate the OPT

var2evalstr(OPT)

%%
% Notice how there are only five distinct fill styles, but 51 unique line
% styles.
##### SOURCE END #####
-->
   </body>
</html>