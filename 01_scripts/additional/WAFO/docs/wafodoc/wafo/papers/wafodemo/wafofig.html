<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>WAFO. Description of wafofig</title>
  <meta name="keywords" content="wafofig">
  <meta name="description" content="  callback implementing functions of WAFODEMO">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">wafo</a> &gt; <a href="../index.html">papers</a> &gt; <a href="index.html">wafodemo</a> &gt; wafofig.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for wafo\papers\wafodemo&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>wafofig
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>  callback implementing functions of WAFODEMO</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong> wafofig(ix) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">  <a href="wafofig.html" class="code" title="  callback implementing functions of WAFODEMO">WAFOFIG</a>  callback implementing functions of <a href="wafodemo.html" class="code" title="  Show WAFO figures with point and click interface">WAFODEMO</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<TABLE BORDER=0>

<TR>
<TD><li><a href="wafoinit.html" class="code" title=" wafoinit">wafoinit</a></li></TD>
<TD>  setup all global variables of the WAFODEMO</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\datatypes\cell.m">cell</a></li></TD>
<TD>          Create cell array.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\iofun\clc.m">clc</a></li></TD>
<TD>           Clear command window.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\datatypes\deal.m">deal</a></li></TD>
<TD>          Deal inputs to outputs.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\graphics\drawnow.m">drawnow</a></li></TD>
<TD>       Flush pending graphics events.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\graphics\figure.m">figure</a></li></TD>
<TD>        Create figure window.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\graphics\gcf.m">gcf</a></li></TD>
<TD>           Get handle to current figure.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\simulink\simcoverage\@cvtest\help.m">help</a></li></TD>
<TD>          Display help text in Command Window.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\iofun\home.m">home</a></li></TD>
<TD>          Send the cursor home.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\uitools\inputdlg.m">inputdlg</a></li></TD>
<TD>      Input dialog box.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\datatypes\isnumeric.m">isnumeric</a></li></TD>
<TD>     True for numeric arrays.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\uitools\menu.m">menu</a></li></TD>
<TD>          Generate a menu of choices for user input.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\strfun\num2str.m">num2str</a></li></TD>
<TD>       Convert number to string. (Fast version)</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\strfun\sprintf.m">sprintf</a></li></TD>
<TD>       Write formatted data to string.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\strfun\str2num.m">str2num</a></li></TD>
<TD>       Convert string matrix to numeric array.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\strfun\@char\strcmpi.bi">strcmpi</a></li></TD>
<TD>       Compare strings ignoring case.</TD>
</TR>
</TABLE>
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<TABLE BORDER=0>

</TABLE>

</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code"> changesettingsmenu</a></li></ul>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>001 <span class="keyword">function</span> <a name="_sub0" href="#_subfunctions" class="code">wafofig</a>(ix)
002 <span class="comment">% WAFOFIG  callback implementing functions of WAFODEMO</span>
003 <span class="keyword">global</span> WAFOFIGNUM 
004 <span class="keyword">if</span> isempty(WAFOFIGNUM)
005   disp(<span class="string">'You must start wafodemo in order to run this script'</span>)
006   <span class="keyword">return</span>
007 <span class="keyword">end</span>
008 Nfigs=10; <span class="comment">% </span>
009 <span class="keyword">global</span> wafomenulabels
010 
011 
012 <span class="keyword">switch</span> ix
013   <span class="keyword">case</span> -1,  <span class="comment">% change default settings</span>
014     WAFOFIGNUM=0;
015     <a href="#_sub1" class="code" title="sub  changesettingsmenu">changesettingsmenu</a>; <span class="comment">% local function</span>
016     
017   <span class="keyword">case</span> -2, <span class="comment">% make all figures</span>
018     WAFOFIGNUM=Nfigs;
019     <a href="wafoinit.html" class="code" title="  setup all global variables of the WAFODEMO">wafoinit</a>
020     cfig=gcf;
021     <span class="keyword">for</span> iy=1:Nfigs,
022       figure(cfig-1+iy)
023       figname = [<span class="string">'wafofig'</span>,num2str(iy)];
024        <span class="comment">%clc; home;</span>
025       help(figname);
026       eval(figname); 
027       drawnow;
028     <span class="keyword">end</span>
029     <span class="keyword">for</span> iy=1:Nfigs,
030       figure(cfig-1+iy)
031       figname = [<span class="string">'wafofig'</span>,num2str(iy)];
032       help(figname);
033     <span class="keyword">end</span>
034    <span class="keyword">case</span> -3, <span class="comment">% select a figure</span>
035      <span class="keyword">if</span> isempty(wafomenulabels)| WAFOFIGNUM==0, <a href="wafoinit.html" class="code" title="  setup all global variables of the WAFODEMO">wafoinit</a>; <span class="keyword">end</span>
036      iy = menu(<span class="string">'Choose a figure'</span>,wafomenulabels{:},<span class="string">'Cancel'</span>)
037      <span class="keyword">if</span> ~isempty(iy) &amp; (1 &lt;= iy &amp; iy &lt;=Nfigs) ,
038        WAFOFIGNUM = iy;
039        
040        figname = [<span class="string">'wafofig'</span>,num2str(iy)];
041        
042        clc; home; help(figname);
043        eval(figname);
044        clc; home; help(figname);
045        drawnow;
046      <span class="keyword">end</span>
047      
048    <span class="keyword">otherwise</span>
049      disp(<span class="string">'Unknown Input argument to wafofig'</span>) 
050      disp(sprintf(<span class="string">'num =%g'</span>,ix))
051 <span class="keyword">end</span>
052      
053    
054 <span class="keyword">function</span> <a name="_sub1" href="#_subfunctions" class="code">changesettingsmenu</a>
055 <span class="comment">%</span>
056 <span class="comment">%</span>
057 
058 <span class="keyword">global</span> WAFOFIGNUM 
059 <span class="comment">% Define Globals used (that the user also  might change)</span>
060 <span class="comment">%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
061 <span class="keyword">global</span> Fs                          <span class="comment">% sampling frequency for torsethaugen</span>
062 <span class="keyword">global</span> St Hm0 Tp                   <span class="comment">% torsethaugen output, input Fig 2</span>
063 <span class="keyword">global</span> xt Nsim Iseed               <span class="comment">% spec2sdat output , input    Fig1</span>
064 <span class="keyword">global</span> Ste L                       <span class="comment">% dat2spec output, input      Fig2</span>
065 <span class="keyword">global</span> fTt fTte u Np nit speed     <span class="comment">% spec2thpdf output, input    Fig3  </span>
066 <span class="keyword">global</span> Tt rate                     <span class="comment">% dat2wa output, input        Fig3</span>
067 <span class="keyword">global</span> ma mb sp                    <span class="comment">% spreading input             Fig4</span>
068 <span class="keyword">global</span> fTcfAc NNp Nh Nnit Nspeed   <span class="comment">% spec2thpdf output, input    Fig5  </span>
069 <span class="keyword">global</span> NVcf NHd Nrate              <span class="comment">% dat2steep output, input     Fig5</span>
070 <span class="keyword">global</span> fTcfAcTc JNp Jh Jnit Jspeed      <span class="comment">% spec2thpdf output, input    Fig6  </span>
071 <span class="keyword">global</span> JTcf JAc Jind Jrate         <span class="comment">% dat2steep output, input     Fig6</span>
072 <span class="keyword">global</span> kdeTt kernel hs L2          <span class="comment">% kdebin input: kernel, smoothing  (Fig3)</span>
073 <span class="keyword">global</span> kdeVcfHd Nkernel Nhs NL2    <span class="comment">% and transformation  parameter,   (Fig5)</span>
074 <span class="keyword">global</span> kdeTcfAcTc Jkernel Jhs JL2  <span class="comment">% respectively                     (Fig6)</span>
075 
076 WAFOFIGNUM=0;
077 <a href="wafoinit.html" class="code" title="  setup all global variables of the WAFODEMO">wafoinit</a> <span class="comment">% initialize global variables</span>
078         <span class="comment">% and put them into the cellarray of default values </span>
079 def=cell(5,1);
080 def{1}={Fs Hm0 Tp sp ma mb};
081 def{2}={Nsim Iseed L };
082 def{3}={rate kernel hs L2 u Np nit speed};
083 def{4}={Nrate Nkernel Nhs NL2 NNp Nnit Nspeed};
084 def{5}={Jrate Jkernel Jhs JL2 JNp Jnit Jspeed};
085 
086 <span class="comment">% Convert def to strdef containing only strings</span>
087 strdef=def;
088 <span class="keyword">for</span> ix=1:length(def)
089   <span class="keyword">for</span> iy=1:length(def{ix})
090     <span class="keyword">if</span> isnumeric(def{ix}{iy})
091       strdef{ix}{iy}=num2str(def{ix}{iy});
092     <span class="keyword">end</span>
093   <span class="keyword">end</span>
094 <span class="keyword">end</span>
095 
096 lineNo=1;
097 title1=<span class="string">'Change Spectral parameters fig1-4 (See torsethaugen, spreading)'</span>;
098 <span class="comment">%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
099 prompt1 ={ <span class="keyword">...</span>
100 <span class="string">'Enter sampling frequency, Fs. (Hz):'</span>,<span class="keyword">...</span>
101 <span class="string">'Enter significant wave height, Hm0:'</span>,<span class="keyword">...</span>
102 <span class="string">'Enter peak period, Tp:'</span>,<span class="keyword">...</span>
103 <span class="string">'Enter spreading parameter, sp:'</span>, <span class="keyword">...</span>
104 <span class="string">'Enter spreading shape parameter, ma):'</span>,<span class="keyword">...</span>
105 <span class="string">'Enter spreading shape parameter, mb):'</span>};
106 answer=inputdlg(prompt1,title1,lineNo,strdef{1},<span class="string">'on'</span>);
107 
108 Na=length(answer);
109 <span class="keyword">if</span> Na&gt;0
110   ind1=zeros(1,Na); <span class="comment">% index to changed variables</span>
111   <span class="keyword">for</span> ix=1:Na, ind1(ix)=~isempty(answer(ix));  <span class="keyword">end</span>
112   ind2=find(ind1); 
113   <span class="keyword">for</span> ix=ind2(:).',
114     answer{ix}=str2num(answer{ix});
115     <span class="keyword">if</span> (isempty(answer{ix})|answer{ix}==def{1}{ix}), ind1(ix)=0; <span class="keyword">else</span>, def{1}{ix}=answer{ix}; <span class="keyword">end</span>
116   <span class="keyword">end</span>
117   ind2=find(ind1&gt;0); 
118   <span class="keyword">if</span> any(ind2) <span class="comment">% set variables  that must be calculated again to empty.</span>
119     <span class="keyword">if</span> any(ind2&lt;=3), <span class="comment">% fig1,2,3</span>
120       St=[];xt=[];Ste=[]; Tt=[]; 
121       fTt=[]; fTte=[];    kdeTt=[];
122     <span class="keyword">end</span> 
123     [Fs, Hm0, Tp, sp, ma, mb]=deal(def{1}{:});
124   <span class="keyword">end</span>
125 <span class="keyword">end</span>
126 
127 
128 title2=<span class="string">'Change Simulation parameters fig1-3 (See spec2sdat, dat2spec, dat2wa)'</span>;
129 <span class="comment">%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
130 prompt2 ={ <span class="keyword">...</span>
131 <span class="string">'Enter length of simulated time series. (Nsim):'</span>,<span class="keyword">...</span>
132 <span class="string">'Enter seed for random number generator (iseed):'</span>,<span class="keyword">...</span>
133 <span class="string">'Enter maximum lag size of the window function (L).:'</span>};
134 answer=inputdlg(prompt2,title2,lineNo,strdef{2},<span class="string">'on'</span>);
135 
136 Na=length(answer);
137 <span class="keyword">if</span> Na&gt;0
138   ind1=zeros(1,Na); <span class="comment">% index to changed variables</span>
139   <span class="keyword">for</span> ix=1:Na, ind1(ix)=~isempty(answer(ix));  <span class="keyword">end</span>
140   ind2=find(ind1); 
141   <span class="keyword">for</span> ix=ind2(:).',
142     answer{ix}=str2num(answer{ix});
143     <span class="keyword">if</span> (isempty(answer{ix})|answer{ix}==def{2}{ix}), ind1(ix)=0; <span class="keyword">else</span>, def{2}{ix}=answer{ix}; <span class="keyword">end</span>
144   <span class="keyword">end</span>
145   ind2=find(ind1&gt;0); 
146   <span class="keyword">if</span> any(ind2) <span class="comment">% set variables  that must be calculated again to empty.</span>
147     Ste=[];fTte=[];
148     <span class="keyword">if</span> any(ind2&lt;=2), <span class="comment">% fig1,2,3</span>
149       xt=[]; Tt=[]; 
150       kdeTt=[];
151     <span class="keyword">end</span>
152     [Nsim, Iseed, L]=deal(def{2}{:});
153   <span class="keyword">end</span>
154 <span class="keyword">end</span>
155 
156 title3=<span class="string">'Change distribution fitting parameters fig3 (See dat2wa kdebin spec2thpdf)'</span>;
157 <span class="comment">%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
158 prompt3 ={ <span class="keyword">...</span>
159 <span class="string">'Enter interpolation rate before extracting Tt from data. (rate):'</span>,<span class="keyword">...</span>
160 <span class="string">'Enter name for kernel:'</span>,<span class="keyword">...</span>
161 <span class="string">'Enter smoothing parameter hs (default 1D optimal value using hns):'</span>,<span class="keyword">...</span>
162 <span class="string">'Enter transformation parameter (L2):'</span>,<span class="keyword">...</span>
163 <span class="string">'Enter reference level defining Tt (u):'</span>,<span class="keyword">...</span>
164 <span class="string">'Enter number of points for which the theoretical pdf is computed (Np&lt;100):'</span>, ...<span class="keyword">...</span>
165 <span class="string">'Enter nit (-2 and 0,1,...,9):'</span>,.<span class="keyword">...</span>
166 <span class="string">'Enter speed (1,2,...,9):'</span>};
167 
168 answer=inputdlg(prompt3,title3,lineNo,strdef{3},<span class="string">'on'</span>);
169 
170 Na=length(answer);
171 <span class="keyword">if</span> Na&gt;0
172   ind1=zeros(1,Na); <span class="comment">% index to changed variables</span>
173   <span class="keyword">for</span> ix=1:Na, ind1(ix)=~isempty(answer(ix));  <span class="keyword">end</span>
174   ind2=find(ind1); 
175   <span class="keyword">for</span> ix=ind2(:).',
176     <span class="keyword">if</span> ix~=2
177       answer{ix}=str2num(answer{ix});
178       <span class="keyword">if</span> (isempty(answer{ix})|answer{ix}==def{3}{ix}), ind1(ix)=0; <span class="keyword">else</span>,def{3}{ix}=answer{ix}; <span class="keyword">end</span>
179     <span class="keyword">else</span>
180       <span class="keyword">if</span> (strcmpi(answer{ix},def{3}{ix})), ind1(ix)=0; <span class="keyword">else</span>,def{3}{ix}=answer{ix}; <span class="keyword">end</span>
181     <span class="keyword">end</span>
182     
183   <span class="keyword">end</span>
184   ind2=find(ind1&gt;0); 
185   <span class="keyword">if</span> any(ind2) <span class="comment">% set variables  that must be calculated again to empty.</span>
186     <span class="keyword">if</span> any(ind2&lt;=5), <span class="comment">% fig3</span>
187      
188       kdeTt=[];
189       <span class="keyword">if</span> any(ind2==1), Tt=[];  <span class="keyword">end</span>
190     <span class="keyword">end</span>
191     <span class="keyword">if</span> any(ind2&gt;=5), <span class="comment">% fig3</span>
192        fTt=[]; fTte=[];
193     <span class="keyword">end</span>
194     [rate kernel hs L2 u Np nit speed]=deal(def{3}{:});
195   <span class="keyword">end</span>
196 <span class="keyword">end</span>
197 
198 
199 title4=<span class="string">'Change distribution fitting parameters fig5 (See dat2steep kdebin spec2thpdf)'</span>;
200 <span class="comment">%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
201 prompt4 ={ <span class="keyword">...</span>
202 <span class="string">'Enter interpolation rate before extracting parameters from data. (rate):'</span>,<span class="keyword">...</span>
203 <span class="string">'Enter name for kernel:'</span>,<span class="keyword">...</span>
204 <span class="string">'Enter smoothing parameter vector hs (default 1D optimal value using hns):'</span>,<span class="keyword">...</span>
205 <span class="string">'Enter transformation parameter vector (L2):'</span>,<span class="keyword">...</span>
206 <span class="string">'Enter number of points for time axis for which theoretical pdf is computed (Np&lt;100):'</span>,<span class="keyword">...</span>
207 <span class="string">'Enter nit (-2 and 0,1,...,9):'</span>,<span class="keyword">...</span>
208 <span class="string">'Enter speed (1,2,...,9):'</span>};
209 answer=inputdlg(prompt4,title4,lineNo,strdef{4},<span class="string">'on'</span>);
210 
211 Na=length(answer);
212 <span class="keyword">if</span> Na&gt;0
213   ind1=zeros(1,Na); <span class="comment">% index to changed variables</span>
214   <span class="keyword">for</span> ix=1:Na, ind1(ix)=~isempty(answer(ix));  <span class="keyword">end</span>
215   ind2=find(ind1); 
216   <span class="keyword">for</span> ix=ind2(:).',
217     <span class="keyword">if</span> ix~=2
218       answer{ix}=str2num(answer{ix});
219       <span class="keyword">if</span> (isempty(answer{ix})|answer{ix}==def{3}{ix}), ind1(ix)=0; <span class="keyword">else</span>,def{3}{ix}=answer{ix}; <span class="keyword">end</span>
220     <span class="keyword">else</span>
221       <span class="keyword">if</span> (strcmpi(answer{ix},def{3}{ix})), ind1(ix)=0; <span class="keyword">else</span>,def{3}{ix}=answer{ix}; <span class="keyword">end</span>
222     <span class="keyword">end</span>
223     
224   <span class="keyword">end</span>
225   ind2=find(ind1&gt;0); 
226   <span class="keyword">if</span> any(ind2) <span class="comment">% set variables  that must be calculated again to empty.</span>
227     <span class="keyword">if</span> any(ind2&lt;=4), <span class="comment">% fig5</span>
228       kdeVcfHd=[];
229       <span class="keyword">if</span> any(ind2==1) ,NVcf=[],NHd=[];<span class="keyword">end</span>
230     <span class="keyword">end</span>
231     <span class="keyword">if</span> any(ind2&gt;=4), <span class="comment">% fig5</span>
232        fTcfAc=[]; 
233     <span class="keyword">end</span>
234     [Nrate Nkernel Nhs NL2 NNp Nnit Nspeed]=deal(def{4}{:});
235   <span class="keyword">end</span>
236 <span class="keyword">end</span>
237 
238 
239 title5=<span class="string">'Change distribution fitting parameters fig6 (See dat2steep kdebin spec2thpdf)'</span>;
240 <span class="comment">%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
241 prompt5 ={ <span class="keyword">...</span>
242 <span class="string">'Enter interpolation rate before extracting parameters from data. (rate):'</span>,<span class="keyword">...</span>
243 <span class="string">'Enter name for kernel:'</span>,<span class="keyword">...</span>
244 <span class="string">'Enter smoothing parameter vector hs (default 1D optimal value using hns):'</span>,<span class="keyword">...</span>
245 <span class="string">'Enter transformation parameter vector (L2):'</span>,<span class="keyword">...</span>
246 <span class="string">'Enter number of points for time axis for which theoretical pdf is computed (Np&lt;100):'</span>,<span class="keyword">...</span>
247 <span class="string">'Enter nit (-2 and 0,1,...,9):'</span>,<span class="keyword">...</span>
248 <span class="string">'Enter speed (1,2,...,9):'</span>};
249 answer=inputdlg(prompt5,title5,lineNo,strdef{5},<span class="string">'on'</span>);
250 
251 Na=length(answer);
252 <span class="keyword">if</span> Na&gt;0
253   ind1=zeros(1,Na); <span class="comment">% index to changed variables</span>
254   <span class="keyword">for</span> ix=1:Na, ind1(ix)=~isempty(answer(ix));  <span class="keyword">end</span>
255   ind2=find(ind1); 
256   <span class="keyword">for</span> ix=ind2(:).',
257     <span class="keyword">if</span> ix~=2
258       answer{ix}=str2num(answer{ix});
259       <span class="keyword">if</span> (isempty(answer{ix})|answer{ix}==def{3}{ix}), ind1(ix)=0; <span class="keyword">else</span>,def{3}{ix}=answer{ix}; <span class="keyword">end</span>
260     <span class="keyword">else</span>
261       <span class="keyword">if</span> (strcmpi(answer{ix},def{3}{ix})), ind1(ix)=0; <span class="keyword">else</span>,def{3}{ix}=answer{ix}; <span class="keyword">end</span>
262     <span class="keyword">end</span>
263     
264   <span class="keyword">end</span>
265   ind2=find(ind1&gt;0); 
266   <span class="keyword">if</span> any(ind2) <span class="comment">% set variables  that must be calculated again to empty.</span>
267     <span class="keyword">if</span> any(ind2&lt;=4), <span class="comment">% fig6</span>
268       kdeTcfAcTc=[];
269       <span class="keyword">if</span> any(ind2==1) ,JTcf=[],JAc=[];<span class="keyword">end</span>
270     <span class="keyword">end</span>
271     <span class="keyword">if</span> any(ind2&gt;=4), <span class="comment">% fig6</span>
272        fTcfAcTc=[]; 
273     <span class="keyword">end</span>
274     [Jrate Jkernel Jhs JL2 JNp Jnit Jspeed]=deal(def{5}{:});
275   <span class="keyword">end</span>
276 <span class="keyword">end</span></pre></div>
<HR noShade>
<SMALL><A href="http://www.maths.lth.se/matstat/">Mathematical 
Statistics</A><BR><A href="http://www.maths.lth.se/">Centre for Mathematical 
Sciences</A><BR><A href="http://www.lu.se/">Lund University</A> with <A 
href="http://www.lth.se/">Lund Institute of Technology</A> </SMALL>
<P><SMALL>Comments or corrections to the <A
href="mailto:wafo@maths.lth.se">WAFO group</A>  </P>

<hr><address>Generated on Thu 06-Oct-2005 02:21:16
 for <strong><A href="http://www.maths.lth.se/matstat/wafo/">WAFO</A></strong>
 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>