<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>WAFO. Description of fwaitbar</title>
  <meta name="keywords" content="fwaitbar">
  <meta name="description" content=" Fast display of wait bar.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">wafo</a> &gt; <a href="index.html">misc</a> &gt; fwaitbar.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for wafo\misc&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>fwaitbar
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong> Fast display of wait bar.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong> fout = fwaitbar(x,name,msg) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> <a href="fwaitbar.html" class="code" title=" Fast display of wait bar. ">FWAITBAR</a> Fast display of wait bar. 
  
   CALL: H = <a href="fwaitbar.html" class="code" title=" Fast display of wait bar. ">fwaitbar</a>(X,title,msg)  
             <a href="fwaitbar.html" class="code" title=" Fast display of wait bar. ">fwaitbar</a>(X,H,msg) 
  
   H     = Handle to waitbar figure. 
   X     = Fractional length of wait bar. X should be between 0 and 1. 
   title = Title string (default 'Please wait...').  
   msg   = Message string  (default ''). 
  
  <a href="fwaitbar.html" class="code" title=" Fast display of wait bar. ">FWAITBAR</a> creates and displays a wait bar of 
  fractional length X. Each subsequent call to waitbar, WAITBAR(X,H), 
  extends the length of the bar to the new position X. 
  
  <a href="fwaitbar.html" class="code" title=" Fast display of wait bar. ">FWAITBAR</a> is a much speeded up version of WAITBAR (see help on WAITBAR). 
  
  Example: 
   h = <a href="fwaitbar.html" class="code" title=" Fast display of wait bar. ">fwaitbar</a>(0,[],'this may take a while'); 
   for i=1:10, 
         % computation here % 
      if i==7, 
         <a href="fwaitbar.html" class="code" title=" Fast display of wait bar. ">fwaitbar</a>(i/10,h,' soon finished') 
      else 
         <a href="fwaitbar.html" class="code" title=" Fast display of wait bar. ">fwaitbar</a>(i/10,h) 
      end 
      pause(1) 
   end 
   close(h) 
   
  See also  waitbar</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<TABLE BORDER=0>

<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\graphics\axes.m">axes</a></li></TD>
<TD>          Create axes in arbitrary positions.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\graph3d\colormap.m">colormap</a></li></TD>
<TD>      Color look-up table.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\general\computer.m">computer</a></li></TD>
<TD>      Computer type.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\graphics\drawnow.m">drawnow</a></li></TD>
<TD>       Flush pending graphics events.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\graphics\figure.m">figure</a></li></TD>
<TD>        Create figure window.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="get is a built-in method">get</a></li></TD>
<TD>           Get object properties.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\strfun\ischar.m">ischar</a></li></TD>
<TD>        True for character array (string).</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\specgraph\patch.m">patch</a></li></TD>
<TD>         Create patch.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="set is a built-in method">set</a></li></TD>
<TD>           Set object properties.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\strfun\@char\strcmp.bi">strcmp</a></li></TD>
<TD>        Compare strings.</TD>
</TR>
</TABLE>
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<TABLE BORDER=0>

<TR>
<TD><li><a href="../../wafo/wsim/seasim.html" class="code" title=" [Y,Mv]=seasim(spec,Nx,Ny,Nt,dx,dy,dt,fftdim,plotflag);">seasim</a></li></TD>
<TD> Spectral simulation of a Gaussian sea, 2D (x,t) or 3D (x,y,t)</TD>
</TR>
<TR>
<TD><li><a href="../../wafo/trgauss/spec2mmtpdf.html" class="code" title=" f = spec2mmtpdf(spec,utc,def,paramt,paramu,options,bound)">spec2mmtpdf</a></li></TD>
<TD> Calculates joint density of Maximum, minimum and period.</TD>
</TR>
<TR>
<TD><li><a href="../../wafo/trgauss/spec2thpdf.html" class="code" title=" f = spec2thpdf(spec,utc,def,paramt,h,options,plotflag)">spec2thpdf</a></li></TD>
<TD> Joint density of amplitude and period/wave-length characteristics</TD>
</TR>
<TR>
<TD><li><a href="../../wafo/trgauss/spec2tpdf2.html" class="code" title=" [f] = spec2tpdf2(spec,utc,def,paramt,varargin)">spec2tpdf2</a></li></TD>
<TD> Evaluates densities for various wave periods or wave lengths</TD>
</TR>
</TABLE>

</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>001 <span class="keyword">function</span> fout = <a name="_sub0" href="#_subfunctions" class="code">fwaitbar</a>(x,name,msg) 
002 <span class="comment">%FWAITBAR Fast display of wait bar. </span>
003 <span class="comment">% </span>
004 <span class="comment">%  CALL: H = fwaitbar(X,title,msg)  </span>
005 <span class="comment">%            fwaitbar(X,H,msg) </span>
006 <span class="comment">% </span>
007 <span class="comment">%  H     = Handle to waitbar figure. </span>
008 <span class="comment">%  X     = Fractional length of wait bar. X should be between 0 and 1. </span>
009 <span class="comment">%  title = Title string (default 'Please wait...').  </span>
010 <span class="comment">%  msg   = Message string  (default ''). </span>
011 <span class="comment">% </span>
012 <span class="comment">% FWAITBAR creates and displays a wait bar of </span>
013 <span class="comment">% fractional length X. Each subsequent call to waitbar, WAITBAR(X,H), </span>
014 <span class="comment">% extends the length of the bar to the new position X. </span>
015 <span class="comment">% </span>
016 <span class="comment">% FWAITBAR is a much speeded up version of WAITBAR (see help on WAITBAR). </span>
017 <span class="comment">% </span>
018 <span class="comment">% Example: </span>
019 <span class="comment">%  h = fwaitbar(0,[],'this may take a while'); </span>
020 <span class="comment">%  for i=1:10, </span>
021 <span class="comment">%        <span class="comment">% computation here <span class="comment">% </span></span></span>
022 <span class="comment">%     if i==7, </span>
023 <span class="comment">%        fwaitbar(i/10,h,' soon finished') </span>
024 <span class="comment">%     else </span>
025 <span class="comment">%        fwaitbar(i/10,h) </span>
026 <span class="comment">%     end </span>
027 <span class="comment">%     pause(1) </span>
028 <span class="comment">%  end </span>
029 <span class="comment">%  close(h) </span>
030 <span class="comment">%  </span>
031 <span class="comment">% See also  waitbar </span>
032  
033 <span class="comment">% Tested on: matlab 5.2 </span>
034 <span class="comment">% History </span>
035 <span class="comment">% revised pab 03.03.2003 </span>
036 <span class="comment">%  - fixed some bugs   </span>
037 <span class="comment">% revised pab 25.07.2001 </span>
038 <span class="comment">% -changed help header to wafo style </span>
039 <span class="comment">% -changed old name to msg. name is now the window name.  </span>
040 <span class="comment">% - added default string to name </span>
041 <span class="comment">% - added example </span>
042 <span class="comment">% by Olof Liungman. </span>
043 <span class="comment">%   Dept. of Oceanography, Earth Sciences Centre </span>
044 <span class="comment">%   Göteborg University, Sweden </span>
045 <span class="comment">%   E-mail: olof.liungman@oce.gu.se </span>
046  
047 x = max(0,min(100*x,100)); <span class="comment">% Make sure 0&lt;=x&lt;=100 </span>
048 <span class="keyword">if</span> nargin&lt;3|isempty(msg), msg = <span class="string">''</span>;<span class="keyword">end</span> 
049 <span class="keyword">if</span> nargin&lt;2|isempty(name), name = <span class="string">'Please wait...'</span>;<span class="keyword">end</span> 
050  
051 <span class="keyword">if</span> ischar(name) 
052   oldRootUnits = get(0,<span class="string">'Units'</span>); 
053   set(0,<span class="string">'Units'</span>,<span class="string">'pixels'</span>); 
054   screenSz = get(0,<span class="string">'ScreenSize'</span>); 
055   width  = 360; 
056   height = 75; 
057   x0 = (screenSz(3)-width)/2; 
058   y0 = (screenSz(4)-height)/2; 
059   pos = [x0, y0, width, height]; 
060   f = figure(<span class="string">'MenuBar'</span>,<span class="string">'none'</span>,<span class="keyword">...</span> 
061      <span class="string">'Units'</span>,<span class="string">'Pixels'</span>,<span class="keyword">...</span> 
062      <span class="string">'NumberTitle'</span>,<span class="string">'off'</span>,<span class="keyword">...</span> 
063      <span class="string">'Pointer'</span>,<span class="string">'watch'</span>,<span class="keyword">...</span> 
064      <span class="string">'Color'</span>,<span class="string">'w'</span>,<span class="keyword">...</span> 
065      <span class="string">'Resize'</span>,<span class="string">'on'</span>,<span class="keyword">...</span> 
066      <span class="string">'CreateFcn'</span>,<span class="string">''</span>, <span class="keyword">...</span> 
067      <span class="string">'IntegerHandle'</span>,<span class="string">'off'</span>,<span class="keyword">...</span> 
068      <span class="string">'Tag'</span>,<span class="string">'TMWWaitbar'</span>,<span class="keyword">...</span> 
069      <span class="string">'Visible'</span>,<span class="string">'off'</span>,<span class="keyword">...</span> 
070      <span class="string">'Position'</span>,pos, <span class="keyword">...</span> 
071      <span class="string">'Name'</span>,name); 
072            
073           <span class="comment">%set(f,'Resize','on','Position',pos); </span>
074           <span class="comment">%set(f,'Resize','off') </span>
075   <span class="keyword">if</span> ~strcmp(computer,<span class="string">'PCWIN'</span>) 
076     set(f,<span class="string">'DefaultTextFontSize'</span>,12) 
077     set(f,<span class="string">'DefaultAxesFontSize'</span>,12) 
078   <span class="keyword">end</span> 
079   colormap([]) 
080  
081   ax = axes(<span class="string">'XLim'</span>,[0 100],<span class="string">'YLim'</span>,[0 1],<span class="string">'Box'</span>,<span class="string">'on'</span>,<span class="string">'Position'</span>,<span class="keyword">...</span> 
082        [.05 .30 .9 .30],<span class="string">'YTick'</span>,[],<span class="string">'XColor'</span>,<span class="string">'k'</span>,<span class="string">'YColor'</span>,<span class="string">'k'</span>); 
083    
084   xpatch = [0 x x 0]; 
085   ypatch = [0 0 1 1]; 
086   p = patch(xpatch,ypatch,<span class="string">'r'</span>,<span class="string">'Edgecolor'</span>,<span class="string">'r'</span>,<span class="string">'EraseMode'</span>,<span class="string">'none'</span>); 
087   titleHandle = get(ax,<span class="string">'Title'</span>); 
088   ud = {p, titleHandle}; 
089   set(f,<span class="string">'UserData'</span>,ud,<span class="keyword">...</span>    
090      <span class="string">'HandleVisibility'</span>,<span class="string">'callback'</span>,<span class="keyword">...</span> 
091      <span class="string">'Visible'</span>,<span class="string">'on'</span>,<span class="keyword">...</span> 
092      <span class="string">'Resize'</span>,<span class="string">'off'</span>); 
093    
094   set(0, <span class="string">'Units'</span>, oldRootUnits); 
095 <span class="keyword">else</span> 
096    ud = get(name,<span class="string">'UserData'</span>); 
097    p           = ud{1}; 
098    titleHandle = ud{2}; 
099  
100    xpatch = get(p,<span class="string">'xdata'</span>); 
101    xpatch = [xpatch(2) x x xpatch(2)]; 
102    set(p,<span class="string">'Xdata'</span>,xpatch) 
103  
104 <span class="keyword">end</span> 
105 <span class="keyword">if</span> ~isempty(msg),set(titleHandle,<span class="string">'string'</span>,msg,<span class="string">'Color'</span>,<span class="string">'k'</span>),<span class="keyword">end</span> 
106  
107 drawnow 
108  
109 <span class="keyword">if</span> nargout&gt;0, 
110   fout = f; 
111 <span class="keyword">end</span> 
112  
113  
114  
115  
116</pre></div>
<HR noShade>
<SMALL><A href="http://www.maths.lth.se/matstat/">Mathematical 
Statistics</A><BR><A href="http://www.maths.lth.se/">Centre for Mathematical 
Sciences</A><BR><A href="http://www.lu.se/">Lund University</A> with <A 
href="http://www.lth.se/">Lund Institute of Technology</A> </SMALL>
<P><SMALL>Comments or corrections to the <A
href="mailto:wafo@maths.lth.se">WAFO group</A>  </P>

<hr><address>Generated on Thu 06-Oct-2005 02:21:16
 for <strong><A href="http://www.maths.lth.se/matstat/wafo/">WAFO</A></strong>
 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>