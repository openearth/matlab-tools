<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>WAFO. Description of specoptset</title>
  <meta name="keywords" content="specoptset">
  <meta name="description" content=" Create or alter SPECTRUM OPTIONS structure.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">wafo</a> &gt; <a href="index.html">multidim</a> &gt; specoptset.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for wafo\multidim&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>specoptset
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong> Create or alter SPECTRUM OPTIONS structure.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong> options = specoptset(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> <a href="specoptset.html" class="code" title=" Create or alter SPECTRUM OPTIONS structure. ">SPECOPTSET</a> Create or alter SPECTRUM OPTIONS structure. 
  
   CALL:  options = <a href="specoptset.html" class="code" title=" Create or alter SPECTRUM OPTIONS structure. ">specoptset</a>(funcname,opts1,opts2,...,par1,val1,par2,val2,...); 
  
    options    = transformation options structure in which the named  
                 parameters have the specified values.   
    funcname   = string giving the name of the function for which default 
                 values for the options structure should be extracted. 
                 Options are 'dat2dspec', 'dat2spec'. 
    opts1, 
    opts2..    = options structures 
    par1,par2..= strings identifying the parameter to alter 
    val1,val2..= corresponding values the parameters are altered to. 
     
    <a href="specoptset.html" class="code" title=" Create or alter SPECTRUM OPTIONS structure. ">SPECOPTSET</a> combines the default options for a function given by FUNCNAME 
    with new options structures (OPTS1,OPTS2,...) and/or with the named 
    parameters (PAR1,PAR2,...) with the corresponding values (VAL1, VAL2,...). 
    The parameters are set in the same order as the input arguments. 
    Any parameters with non-empty values of the options struct overwrite 
    the corresponding old parameters.  
    The input arguments can be given in any order with one exception: 
    PARx and VALx must be given in <a href="../../wafo/wstats/pairs.html" class="code" title="  Pairwise scatter plots.">pairs</a> in that order. 
    Any unspecified parameters for PARx are set to [].  
    Parameters with value [] indicate to use the default value for that 
    parameter when OPTIONS is passed to the function. It is sufficient to 
    type only the 2 first characters to uniquely <a href="../../wafo/wstats/identify.html" class="code" title=" Identify points on a plot by clicking with the mouse.">identify</a> the parameter 
    or function name.  Upper case letters for parameter names and values 
    that are strings are ignored. If an invalid string is provided, the 
    default is used. 
     
    <a href="specoptset.html" class="code" title=" Create or alter SPECTRUM OPTIONS structure. ">SPECOPTSET</a> with no input arguments and no output arguments displays all  
    parameter names and their possible values. 
  
    <a href="specoptset.html" class="code" title=" Create or alter SPECTRUM OPTIONS structure. ">SPECOPTSET</a> with no input arguments creates an options structure 
    OPTIONS where all the fields are set to []. 
  
     
  <a href="specoptset.html" class="code" title=" Create or alter SPECTRUM OPTIONS structure. ">SPECOPTSET</a> PARAMETERS 
      nharm     = number of harmonics in <a href="fourier.html" class="code" title=" Returns Fourier coefficients. ">Fourier</a> coefficients (Fcof)     (default 2) 
    <a href="../../wafo/misc/gravity.html" class="code" title="  returns the constant acceleration of gravity ">gravity</a>     = acceleration of <a href="../../wafo/misc/gravity.html" class="code" title="  returns the constant acceleration of gravity ">gravity</a>                                (default see <a href="../../wafo/misc/gravity.html" class="code" title="  returns the constant acceleration of gravity ">gravity</a>) 
   <a href="../../wafo/misc/wdensity.html" class="code" title="  Returns the water density ">wdensity</a>     = water density,                                         (default see <a href="../../wafo/misc/wdensity.html" class="code" title="  Returns the water density ">wdensity</a>) 
       bet      = 1, theta given as directions toward which waves travel (default) 
                 -1, theta given as directions from which waves come  
       igam     = 1, if z is measured + upward from mean water level     (default) 
                  2, if z is measured + downward from mean water level 
                  3, if z is measured + upward from <a href="../../wafo/data/sea.html" class="code" title=" Surface elevation dataset used in WAT version 1.1.">sea</a> floor 
  x-axisdir     = angle clockwise from true north to + x-axis in degrees (default 90) 
  y-axisdir     = angle clockwise from true north to + y-axis in degrees (default 0) 
   plotflag     = 0 no plotting (default) 
                  1 plots the spectrum, S,      
                  2 plot  plots spectral density and the directional <a href="../../wafo/spec/spreading.html" class="code" title=" Directional spreading functions">spreading</a> 
   dflag        = specifies a detrending performed on the signal before estimation. 
                  'mean','linear' or 'ma' (= moving average)             (default 'mean')    
   ftype        = frequency type, 'w' or 'f'  (default 'w') 
  Plotflag      = 'off'   or 0: No plotting (Default) 
                  'final' or 1: Plot final result 
                  'iter'  or 2: Monitor the development. 
  Delay         = Delay time for each plot when PLOTFLAG=='iter'. 
  message       = Level of screeen display. 
  maxIter       = maximum number of iterations used in estimate. various 
                  effects for differnt methods 
  maxCoef       = maximum spectral coefficient 
  coefAbsTol    = acceptance tolerance for spectral coefficents. 
  errorTol      = acceptance tolerance for the directional <a href="../../wafo/spec/spreading.html" class="code" title=" Directional spreading functions">spreading</a>. 
  minModelOrder = Minimum model order (BDM, <a href="../../wafo/multidim/private/emem.html" class="code" title="  Extended Maximum Entropy Method  ">EMEM</a>) 
  maxModelOrder = Maximum model order (BDM, <a href="../../wafo/multidim/private/emem.html" class="code" title="  Extended Maximum Entropy Method  ">EMEM</a>) 
  relax         = start relaxation parameter 
  
  Examples: 
   <a href="specoptset.html" class="code" title=" Create or alter SPECTRUM OPTIONS structure. ">specoptset</a>('dat2dspec') 
   <a href="specoptset.html" class="code" title=" Create or alter SPECTRUM OPTIONS structure. ">specoptset</a>('dat2dspec','ftype','f','thtype','degrees') 
  
  See also  <a href="../../wafo/onedim/dat2spec.html" class="code" title=" Estimate one-sided spectral density from data.">dat2spec</a>, <a href="dat2dspec.html" class="code" title=" Estimates the directional wave spectrum from timeseries  ">dat2dspec</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<TABLE BORDER=0>

<TR>
<TD><li><a href="../../wafo/misc/gravity.html" class="code" title=" g=gravity(phi)">gravity</a></li></TD>
<TD>  returns the constant acceleration of gravity</TD>
</TR>
<TR>
<TD><li><a href="../../wafo/misc/parseoptions.html" class="code" title=" options = parseoptions(varargin)">parseoptions</a></li></TD>
<TD> Create or alter a OPTIONS structure.</TD>
</TR>
<TR>
<TD><li><a href="../../wafo/misc/wdensity.html" class="code" title=" rho = wdensity(S,T,P)">wdensity</a></li></TD>
<TD>  Returns the water density</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\datatypes\cell2struct.m">cell2struct</a></li></TD>
<TD>   Convert cell array to structure array.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\strfun\@char\lower.bi">lower</a></li></TD>
<TD>         Convert string to lowercase.</TD>
</TR>
<TR>
<TD><li><a href="" class="code" title="C:\programs\matlab71\toolbox\matlab\strfun\strvcat.m">strvcat</a></li></TD>
<TD>       Vertically concatenate strings.</TD>
</TR>
</TABLE>
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<TABLE BORDER=0>

<TR>
<TD><li><a href="dat2dspec.html" class="code" title=" [Sd,D,Sw,Fcof,Gwt,Sxy,Sxy1] = dat2dspec2(xn,pos,h,nfft,nt,method,varargin)">dat2dspec</a></li></TD>
<TD> Estimates the directional wave spectrum from timeseries</TD>
</TR>
</TABLE>

</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>001 <span class="keyword">function</span> options = <a name="_sub0" href="#_subfunctions" class="code">specoptset</a>(varargin) 
002 <span class="comment">%SPECOPTSET Create or alter SPECTRUM OPTIONS structure. </span>
003 <span class="comment">% </span>
004 <span class="comment">%  CALL:  options = specoptset(funcname,opts1,opts2,...,par1,val1,par2,val2,...); </span>
005 <span class="comment">% </span>
006 <span class="comment">%   options    = transformation options structure in which the named  </span>
007 <span class="comment">%                parameters have the specified values.   </span>
008 <span class="comment">%   funcname   = string giving the name of the function for which default </span>
009 <span class="comment">%                values for the options structure should be extracted. </span>
010 <span class="comment">%                Options are 'dat2dspec', 'dat2spec'. </span>
011 <span class="comment">%   opts1, </span>
012 <span class="comment">%   opts2..    = options structures </span>
013 <span class="comment">%   par1,par2..= strings identifying the parameter to alter </span>
014 <span class="comment">%   val1,val2..= corresponding values the parameters are altered to. </span>
015 <span class="comment">%    </span>
016 <span class="comment">%   SPECOPTSET combines the default options for a function given by FUNCNAME </span>
017 <span class="comment">%   with new options structures (OPTS1,OPTS2,...) and/or with the named </span>
018 <span class="comment">%   parameters (PAR1,PAR2,...) with the corresponding values (VAL1, VAL2,...). </span>
019 <span class="comment">%   The parameters are set in the same order as the input arguments. </span>
020 <span class="comment">%   Any parameters with non-empty values of the options struct overwrite </span>
021 <span class="comment">%   the corresponding old parameters.  </span>
022 <span class="comment">%   The input arguments can be given in any order with one exception: </span>
023 <span class="comment">%   PARx and VALx must be given in pairs in that order. </span>
024 <span class="comment">%   Any unspecified parameters for PARx are set to [].  </span>
025 <span class="comment">%   Parameters with value [] indicate to use the default value for that </span>
026 <span class="comment">%   parameter when OPTIONS is passed to the function. It is sufficient to </span>
027 <span class="comment">%   type only the 2 first characters to uniquely identify the parameter </span>
028 <span class="comment">%   or function name.  Upper case letters for parameter names and values </span>
029 <span class="comment">%   that are strings are ignored. If an invalid string is provided, the </span>
030 <span class="comment">%   default is used. </span>
031 <span class="comment">%    </span>
032 <span class="comment">%   SPECOPTSET with no input arguments and no output arguments displays all  </span>
033 <span class="comment">%   parameter names and their possible values. </span>
034 <span class="comment">% </span>
035 <span class="comment">%   SPECOPTSET with no input arguments creates an options structure </span>
036 <span class="comment">%   OPTIONS where all the fields are set to []. </span>
037 <span class="comment">% </span>
038 <span class="comment">%    </span>
039 <span class="comment">% SPECOPTSET PARAMETERS </span>
040 <span class="comment">%     nharm     = number of harmonics in Fourier coefficients (Fcof)     (default 2) </span>
041 <span class="comment">%   gravity     = acceleration of gravity                                (default see gravity) </span>
042 <span class="comment">%  wdensity     = water density,                                         (default see wdensity) </span>
043 <span class="comment">%      bet      = 1, theta given as directions toward which waves travel (default) </span>
044 <span class="comment">%                -1, theta given as directions from which waves come  </span>
045 <span class="comment">%      igam     = 1, if z is measured + upward from mean water level     (default) </span>
046 <span class="comment">%                 2, if z is measured + downward from mean water level </span>
047 <span class="comment">%                 3, if z is measured + upward from sea floor </span>
048 <span class="comment">% x-axisdir     = angle clockwise from true north to + x-axis in degrees (default 90) </span>
049 <span class="comment">% y-axisdir     = angle clockwise from true north to + y-axis in degrees (default 0) </span>
050 <span class="comment">%  plotflag     = 0 no plotting (default) </span>
051 <span class="comment">%                 1 plots the spectrum, S,      </span>
052 <span class="comment">%                 2 plot  plots spectral density and the directional spreading </span>
053 <span class="comment">%  dflag        = specifies a detrending performed on the signal before estimation. </span>
054 <span class="comment">%                 'mean','linear' or 'ma' (= moving average)             (default 'mean')    </span>
055 <span class="comment">%  ftype        = frequency type, 'w' or 'f'  (default 'w') </span>
056 <span class="comment">% Plotflag      = 'off'   or 0: No plotting (Default) </span>
057 <span class="comment">%                 'final' or 1: Plot final result </span>
058 <span class="comment">%                 'iter'  or 2: Monitor the development. </span>
059 <span class="comment">% Delay         = Delay time for each plot when PLOTFLAG=='iter'. </span>
060 <span class="comment">% message       = Level of screeen display. </span>
061 <span class="comment">% maxIter       = maximum number of iterations used in estimate. various </span>
062 <span class="comment">%                 effects for differnt methods </span>
063 <span class="comment">% maxCoef       = maximum spectral coefficient </span>
064 <span class="comment">% coefAbsTol    = acceptance tolerance for spectral coefficents. </span>
065 <span class="comment">% errorTol      = acceptance tolerance for the directional spreading. </span>
066 <span class="comment">% minModelOrder = Minimum model order (BDM, EMEM) </span>
067 <span class="comment">% maxModelOrder = Maximum model order (BDM, EMEM) </span>
068 <span class="comment">% relax         = start relaxation parameter </span>
069 <span class="comment">% </span>
070 <span class="comment">% Examples: </span>
071 <span class="comment">%  specoptset('dat2dspec') </span>
072 <span class="comment">%  specoptset('dat2dspec','ftype','f','thtype','degrees') </span>
073 <span class="comment">% </span>
074 <span class="comment">% See also  dat2spec, dat2dspec </span>
075  
076 <span class="comment">% History </span>
077 <span class="comment">% revised pab, Dec 2003 </span>
078 <span class="comment">%  replaced code with call to parseoptions   </span>
079 <span class="comment">% by pab 22.10.2002 </span>
080 <span class="comment">% based on MATLAB's optimset </span>
081  
082  
083 <span class="comment">% Print out possible values of properties. </span>
084 <span class="keyword">if</span> (nargin == 0) &amp; (nargout == 0) 
085 <span class="comment">%  disp('          method: [ {''cov''} | ''psd'' | ''psdo'' | ''pmem'' | ''pburg'' ] (dat2spec)') </span>
086 <span class="comment">%  disp('          method: [ {''mlm''} | ''imlm'' | ''mem'' | ''emem'' | ''fem'' ] (dat2dspec)') </span>
087   disp(<span class="string">'           dflag: [ {'<span class="string"></span>'mean'<span class="string"></span>'} | '<span class="string"></span>'linear'<span class="string"></span>' | '<span class="string"></span>'ma'<span class="string"></span>' (= moving average)'</span>) 
088   disp(<span class="string">'           ftype: [ {'<span class="string"></span>'w'<span class="string"></span>'} | '<span class="string"></span>'f'<span class="string"></span>' ]'</span>) 
089   disp(<span class="string">'          thtype: [ {'<span class="string"></span>'radians'<span class="string"></span>'} | '<span class="string"></span>'degrees'<span class="string"></span>' ]'</span>)  
090 <span class="comment">%  disp('            nfft: [ {128} ]') </span>
091   disp(<span class="string">'        noverlap: [ {0} ]'</span>) 
092   disp(<span class="string">'          window: [ vector {hanning(nfft)}]'</span>) 
093   disp(<span class="string">'         gravity: [ positive scalar or vector {gravity}]'</span>) 
094   disp(<span class="string">'        wdensity: [ positive integer {wdensity}]'</span>) 
095   disp(<span class="string">'             bet: [ {1} | 1 ]'</span> ) 
096   disp(<span class="string">'            igam: [ {1} | 2 |3 ]'</span>) 
097   disp(<span class="string">'       x_axisdir: [ {90} ]'</span>) 
098   disp(<span class="string">'       y_axisdir: [ {0} ]'</span>) 
099   disp(<span class="string">'         message: [ positive integer {2000}]'</span>) 
100   disp(<span class="string">'        Plotflag: [ off | {final} | iter ]'</span>) 
101   disp(<span class="string">'           Delay: [ positive scalar {0} ]'</span>) 
102   disp(<span class="string">'         maxIter: [ {30} ]'</span>) 
103   disp(<span class="string">'      coefAbsTol: [ {0.01} ]'</span>) 
104   disp(<span class="string">'         maxcoef: [ [] ]'</span>) 
105   disp(<span class="string">'        errorTol: [ {0.01} ]'</span>) 
106   disp(<span class="string">'   minModelOrder: [ {1} ]'</span>) 
107   disp(<span class="string">'   maxModelOrder: [ {[]} ]'</span>) 
108   disp(<span class="string">'           relax: [ {1} ]'</span>) 
109    
110   <span class="keyword">return</span>; 
111 <span class="keyword">end</span> 
112  
113 <span class="comment">% Initialization </span>
114 <span class="comment">% Legal functions names </span>
115 fnames = strvcat(<span class="string">'dat2spec'</span>,<span class="string">'dat2dspec'</span>);  
116 <span class="comment">% Legal parameter names </span>
117 names  = lower({<span class="string">'dflag'</span>,<span class="string">'ftype'</span>,<span class="string">'thtype'</span>,<span class="string">'noverlap'</span>,<span class="string">'window'</span>,<span class="keyword">...</span> 
118         <span class="string">'message'</span>,<span class="string">'plotflag'</span>,<span class="string">'delay'</span>, <span class="keyword">...</span> 
119         <span class="string">'nharm'</span>,<span class="string">'gravity'</span>,<span class="string">'wdensity'</span>,<span class="keyword">...</span> 
120         <span class="string">'bet'</span>, <span class="string">'igam'</span>,<span class="string">'x_axisdir'</span>,<span class="string">'y_axisdir'</span>,<span class="keyword">...</span> 
121         <span class="string">'maxIter'</span>,<span class="string">'coefAbsTol'</span>,<span class="string">'errorTol'</span>,<span class="keyword">...</span> 
122         <span class="string">'minModelOrder'</span>,<span class="string">'maxModelOrder'</span>,<span class="string">'relax'</span>,<span class="string">'maxCoef'</span>});      
123  
124 <span class="comment">%default values </span>
125 defaultVals = {<span class="string">'mean'</span>,<span class="string">'w'</span>,<span class="string">'radians'</span>,0,[],.<span class="keyword">...</span> 
126            2000,<span class="string">'final'</span>,0,<span class="keyword">...</span> 
127            2,<a href="../../wafo/misc/gravity.html" class="code" title="  returns the constant acceleration of gravity ">gravity</a>,<a href="../../wafo/misc/wdensity.html" class="code" title="  Returns the water density ">wdensity</a>,<span class="keyword">...</span> 
128            1,1,90, 0,<span class="keyword">...</span> 
129            30, 0.01,0.01,<span class="keyword">...</span> 
130            1 , [], 1, []}; 
131  
132 options = cell2struct(defaultVals,names,2); 
133 options = <a href="../../wafo/misc/parseoptions.html" class="code" title=" Create or alter a OPTIONS structure. ">parseoptions</a>(fnames,options,varargin{:}); 
134 <span class="keyword">return</span></pre></div>
<HR noShade>
<SMALL><A href="http://www.maths.lth.se/matstat/">Mathematical 
Statistics</A><BR><A href="http://www.maths.lth.se/">Centre for Mathematical 
Sciences</A><BR><A href="http://www.lu.se/">Lund University</A> with <A 
href="http://www.lth.se/">Lund Institute of Technology</A> </SMALL>
<P><SMALL>Comments or corrections to the <A
href="mailto:wafo@maths.lth.se">WAFO group</A>  </P>

<hr><address>Generated on Thu 06-Oct-2005 02:21:16
 for <strong><A href="http://www.maths.lth.se/matstat/wafo/">WAFO</A></strong>
 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>