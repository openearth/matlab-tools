<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>WAFO. Description of itmkurs_lab1</title>
  <meta name="keywords" content="itmkurs_lab1">
  <meta name="description" content=" Script to computer exercises 1">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">wafo</a> &gt; <a href="../index.html">wdemos</a> &gt; <a href="index.html">itmkurs</a> &gt; itmkurs_lab1.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for wafo\wdemos\itmkurs&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>itmkurs_lab1
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong> Script to computer exercises 1</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> <a href="itmkurs_lab1.html" class="code" title=" Script to computer exercises 1">ITMKURS_LAB1</a> Script to computer exercises 1
  
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
 %Analysis of Load Data
 
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  A Stochastic Load Process
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
 %Measured data</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<TABLE BORDER=0>

<TR>
<TD><li><a href="alevel.html" class="code" title=" L=alevel(v,l)">alevel</a></li></TD>
<TD> Slice virkler.mat at a given crack length.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/cycles/cc2amp.html" class="code" title=" [amp]=cc2amp(cc)">cc2amp</a></li></TD>
<TD> Calculates the amplitudes from a cycle count.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/damage/cc2dam.html" class="code" title=" D=cc2dam(cc,beta,K)">cc2dam</a></li></TD>
<TD>   Calculates the total Palmgren-Miner damage of a cycle count.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/cycles/ccplot.html" class="code" title=" ccplot(cc,ps)">ccplot</a></li></TD>
<TD> Plots a cycle count as a point process in the plane.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/onedim/dat2spec.html" class="code" title=" [S,fcut] = dat2spec(xn,varargin)">dat2spec</a></li></TD>
<TD> Estimate one-sided spectral density from data.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/onedim/dat2tp.html" class="code" title=" [tp, ind] = data2tp(x,h,wdef);">dat2tp</a></li></TD>
<TD> Extracts turning points from data,</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/wdemos/democc.html" class="code" title="This is a script file.">democc</a></li></TD>
<TD> A program for visualization of cycle counts in random</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/damage/ftf.html" class="code" title=" [time,F]=ftf(e,d,sigma2,sigma_D,number)">ftf</a></li></TD>
<TD>  Calculates the fatigue failure time distribution.</TD>
</TR>
<TR>
<TD><li><a href="nlevel.html" class="code" title=" C=Nlevel(v,N)">nlevel</a></li></TD>
<TD> Slice virkler.mat at a given number of cycles.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/data/sn.html" class="code" title="This is a script file.">sn</a></li></TD>
<TD> Fatigue experiment, constant-amplitude loading.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/damage/snplot.html" class="code" title=" [e,m,sigma2]= snplot(S,N,nr)">snplot</a></li></TD>
<TD> Plots SN-data and estimates parameters</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/spec/spec2mom.html" class="code" title=" [m,mtext] = spec2mom(S,nr,vari,even)">spec2mom</a></li></TD>
<TD> Calculates spectral moments from spectrum</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/cycles/tp2lc.html" class="code" title=" lc=tp2lc(tp,def,plotflag,sa)">tp2lc</a></li></TD>
<TD>  Calculates the number of upcrossings from the turning points.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/cycles/tp2mm.html" class="code" title=" [mM,Mm] = tp2mm(tp)">tp2mm</a></li></TD>
<TD> Calculates min2Max and Max2min cycles from a sequence of turning points</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/cycles/tp2rfc.html" class="code" title=" [RFC,RFC1,res,def] = tp2rfc(x,def,RFC0,res0)">tp2rfc</a></li></TD>
<TD> Finds the rainflow cycles from the sequence of turning points.</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/wstats/wnormplot.html" class="code" title=" wnormplot(x,nr1,nr2,df);">wnormplot</a></li></TD>
<TD> Plots data on a Normal distribution paper</TD>
</TR>
<TR>
<TD><li><a href="../../../wafo/spec/wspecplot.html" class="code" title=" wspecplot(S,varargin)">wspecplot</a></li></TD>
<TD> Plot a spectral density</TD>
</TR>
</TABLE>
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<TABLE BORDER=0>

</TABLE>

</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>001 <span class="comment">%ITMKURS_LAB1 Script to computer exercises 1</span>
002 <span class="comment">% </span>
003 <span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
004 <span class="comment">%</span>
005 <span class="comment">%<span class="comment">%Analysis of Load Data</span></span>
006 <span class="comment">%</span>
007 <span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
008 <span class="comment">% A Stochastic Load Process</span>
009 <span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
010 <span class="comment">%</span>
011 <span class="comment">%<span class="comment">%Measured data</span></span>
012 <span class="comment">%</span>
013 
014 load deep.dat
015 x = deep;
016 plot(x(:,1),x(:,2))
017 plot(x(1:1000,1),x(1:1000,2))
018 
019 
020 T=x(<span class="keyword">end</span>,1)-x(1,1);
021 
022 whos
023 
024 
025 tp = <a href="../../../wafo/onedim/dat2tp.html" class="code" title=" Extracts turning points from data,">dat2tp</a>(x);
026 plot(x(:,1),x(:,2),tp(:,1),tp(:,2),<span class="string">'.-'</span>)
027 axis([0 100 -20 20])
028 
029 tp1 = <a href="../../../wafo/onedim/dat2tp.html" class="code" title=" Extracts turning points from data,">dat2tp</a>(x,1);
030 plot(x(:,1),x(:,2),tp(:,1),tp(:,2),tp1(:,1),tp1(:,2))
031 axis([0 100 -20 20])
032 
033 
034 lc = <a href="../../../wafo/cycles/tp2lc.html" class="code" title="  Calculates the number of upcrossings from the turning points. ">tp2lc</a>(tp);
035 lc(:,2)=lc(:,2)/T;
036 plot(lc(:,1),lc(:,2))
037 semilogx(lc(:,2),lc(:,1))
038 
039 
040 m=mean(x(:,2));
041 f0 = interp1(lc(:,1),lc(:,2),m,<span class="string">'linear'</span>);
042 f0
043 
044 
045 
046 extr0=length(tp)/2/T;
047 alfa=f0/extr0
048 
049 <span class="comment">%</span>
050 <span class="comment">%<span class="comment">%Gaussian process as a model for the deep water data</span></span>
051 <span class="comment">%</span>
052 
053 
054 <a href="../../../wafo/wstats/wnormplot.html" class="code" title=" Plots data on a Normal distribution paper">wnormplot</a>(x(:,2))
055 
056 
057 
058 S = <a href="../../../wafo/onedim/dat2spec.html" class="code" title=" Estimate one-sided spectral density from data.">dat2spec</a>(deep);
059 <a href="../../../wafo/spec/wspecplot.html" class="code" title=" Plot a spectral density  ">wspecplot</a>(S);
060 
061 S
062 plot(S.w,S.S)
063 
064 
065 
066 lam = <a href="../../../wafo/spec/spec2mom.html" class="code" title=" Calculates spectral moments from spectrum">spec2mom</a>(S,4); L0=lam(1); L2=lam(2); L4=lam(3);
067 
068 
069 f0=1/(2*pi)*sqrt(L2/L0)
070 ux = -20:0.1:20;
071 ricex = f0*exp(-ux.*ux./(2*L0));
072 plot(lc(:,1),lc(:,2),<span class="string">'-'</span>,ux,ricex,<span class="string">'--'</span>)
073 semilogx(lc(:,2),lc(:,1),<span class="string">'-'</span>,ricex,ux,<span class="string">'--'</span>)
074 
075   
076 
077 
078 <span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
079 <span class="comment">% Cycle counts</span>
080 <span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
081 <span class="comment">%---------------------</span>
082 <span class="comment">%Cycle Counts</span>
083 <span class="comment">%---------------------</span>
084 
085 proc = x(1:500,:);
086 <a href="../../../wafo/wdemos/democc.html" class="code" title=" A program for visualization of cycle counts in random ">democc</a>
087 
088 RFC = <a href="../../../wafo/cycles/tp2rfc.html" class="code" title=" Finds the rainflow cycles from the sequence of turning points.">tp2rfc</a>(tp);
089 mM = <a href="../../../wafo/cycles/tp2mm.html" class="code" title=" Calculates min2Max and Max2min cycles from a sequence of turning points">tp2mm</a>(tp);
090 
091 
092 subplot(1,2,1), <a href="../../../wafo/cycles/ccplot.html" class="code" title=" Plots a cycle count as a point process in the plane.">ccplot</a>(RFC)
093 subplot(1,2,2), <a href="../../../wafo/cycles/ccplot.html" class="code" title=" Plots a cycle count as a point process in the plane.">ccplot</a>(mM)
094 
095 
096 ampRFC = <a href="../../../wafo/cycles/cc2amp.html" class="code" title=" Calculates the amplitudes from a cycle count.">cc2amp</a>(RFC);
097 ampmM = <a href="../../../wafo/cycles/cc2amp.html" class="code" title=" Calculates the amplitudes from a cycle count.">cc2amp</a>(mM);
098 subplot(1,2,1), hist(ampRFC)
099 subplot(1,2,2), hist(ampmM)
100 
101 
102 <span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
103 <span class="comment">% SN-data</span>
104 <span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
105 <span class="comment">%</span>
106 <span class="comment">%<span class="comment">%Calculation of damage intensity}</span></span>
107 <span class="comment">%</span>
108 
109 beta=3.2; gam=5.5E-10;
110 d_beta=<a href="../../../wafo/damage/cc2dam.html" class="code" title="   Calculates the total Palmgren-Miner damage of a cycle count.">cc2dam</a>(RFC,beta)/T;
111 time_fail=1/gam/d_beta/3600 <span class="comment">%in hours of the specific storm</span>
112 
113 
114 <span class="comment">%</span>
115 <span class="comment">%<span class="comment">%Additional exercises, Optional</span></span>
116 <span class="comment">%</span>
117 
118 load <a href="../../../wafo/data/sn.html" class="code" title=" Fatigue experiment, constant-amplitude loading.">SN</a>
119 
120 plot(N,s,<span class="string">'o'</span>)
121 axis([0 14e5 5 35 ])
122 loglog(N,s,<span class="string">'o'</span>)
123 
124 
125 <a href="../../../wafo/wstats/wnormplot.html" class="code" title=" Plots data on a Normal distribution paper">wnormplot</a>(reshape(log(N),8,5))
126 
127 
128 [e0,beta0,s20] = <a href="../../../wafo/damage/snplot.html" class="code" title=" Plots SN-data and estimates parameters ">snplot</a>(s,N,12)
129 [e0,beta0,s20] = <a href="../../../wafo/damage/snplot.html" class="code" title=" Plots SN-data and estimates parameters ">snplot</a>(s,N,14)
130 e0    = 5.5361e-10
131 beta0 = 3.2286
132 s20   = 0.0604
133 
134 <span class="comment">%</span>
135 <span class="comment">%<span class="comment">%Calculation of the 95\<span class="comment">% quantile for the fatigue life time</span></span></span>
136 <span class="comment">%</span>
137 <span class="comment">%<span class="comment">%Fatigue life distribution under variable random load</span></span>
138 <span class="comment">%</span>
139 
140 D0 = e0*cumsum((RFC(:,2)-RFC(:,1)).^beta0);
141 plot(D0)
142 
143       
144 beta = 3:0.1:8;
145 DRFC = <a href="../../../wafo/damage/cc2dam.html" class="code" title="   Calculates the total Palmgren-Miner damage of a cycle count.">cc2dam</a>(RFC,beta);
146 dRFC = DRFC/T
147 plot(beta,dRFC)
148 
149 
150 help <a href="../../../wafo/damage/ftf.html" class="code" title="  Calculates the fatigue failure time distribution.">ftf</a>
151 [t0,F0] = <a href="../../../wafo/damage/ftf.html" class="code" title="  Calculates the fatigue failure time distribution.">ftf</a>(e0,<a href="../../../wafo/damage/cc2dam.html" class="code" title="   Calculates the total Palmgren-Miner damage of a cycle count.">cc2dam</a>(RFC,beta0)/T,s20,0.5,1);
152 
153 [t1,F1] = <a href="../../../wafo/damage/ftf.html" class="code" title="  Calculates the fatigue failure time distribution.">ftf</a>(e0,<a href="../../../wafo/damage/cc2dam.html" class="code" title="   Calculates the total Palmgren-Miner damage of a cycle count.">cc2dam</a>(RFC,beta0)/T,s20,0,1);
154 [t2,F2] = <a href="../../../wafo/damage/ftf.html" class="code" title="  Calculates the fatigue failure time distribution.">ftf</a>(e0,<a href="../../../wafo/damage/cc2dam.html" class="code" title="   Calculates the total Palmgren-Miner damage of a cycle count.">cc2dam</a>(RFC,beta0)/T,s20,5,1);
155 plot(t0,F0,t1,F1,t2,F2)
156 
157 
158 taRFC = exp(-1.96*sqrt(0.06))/e0./dRFC;
159 DmM = <a href="../../../wafo/damage/cc2dam.html" class="code" title="   Calculates the total Palmgren-Miner damage of a cycle count.">cc2dam</a>(mM,beta);
160 dmM = DmM/T
161 tamM = exp(-1.96*sqrt(0.06))/e0./dmM;
162 plot(beta,taRFC,beta,tamM,<span class="string">'r'</span>)
163 
164 <span class="comment">%</span>
165 <span class="comment">%<span class="comment">%Crack growth data}  <span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%<span class="comment">%</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
166 <span class="comment">%</span>
167 
168 
169 
170 
171 clear
172 load virkler
173 
174 plot(v(:,2),v(:,1))
175 
176 
177 plot(v(:,2:69),v(:,1),<span class="string">'b-'</span>)
178 
179 
180 
181 N = <a href="alevel.html" class="code" title=" Slice virkler.mat at a given crack length.">alevel</a>(v,15);
182 
183 plot(N,ones(1,length(N)),<span class="string">'o'</span>)
184 
185 a = <a href="nlevel.html" class="code" title=" Slice virkler.mat at a given number of cycles.">nlevel</a>(v,2e5);
186 plot(a,ones(1,length(a)),<span class="string">'o'</span>)
187 
188 
189</pre></div>
<HR noShade>
<SMALL><A href="http://www.maths.lth.se/matstat/">Mathematical 
Statistics</A><BR><A href="http://www.maths.lth.se/">Centre for Mathematical 
Sciences</A><BR><A href="http://www.lu.se/">Lund University</A> with <A 
href="http://www.lth.se/">Lund Institute of Technology</A> </SMALL>
<P><SMALL>Comments or corrections to the <A
href="mailto:wafo@maths.lth.se">WAFO group</A>  </P>

<hr><address>Generated on Thu 06-Oct-2005 02:21:16
 for <strong><A href="http://www.maths.lth.se/matstat/wafo/">WAFO</A></strong>
 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>